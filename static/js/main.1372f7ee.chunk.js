(this["webpackJsonpniko-gateway-fe"]=this["webpackJsonpniko-gateway-fe"]||[]).push([[0],{130:function(e,t,a){var n=a(49),r=a(344);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},131:function(e,t,a){var n=a(49),r=a(348);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},151:function(e,t,a){var n=a(49),r=a(224);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},153:function(e,t,a){var n=a(49),r=a(236);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},155:function(e,t,a){var n=a(49),r=a(238);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},156:function(e,t,a){var n=a(49),r=a(297);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},159:function(e,t,a){var n=a(49),r=a(343);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},198:function(e,t,a){var n=a(49),r=a(235);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},203:function(e,t,a){var n=a(49),r=a(341);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},204:function(e,t,a){var n=a(49),r=a(342);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}},223:function(e,t,a){},224:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".mfGAp {\n  border-radius: 10px;\n  z-index: 100;\n  margin: 1vh 10px;\n  background-color: var(--color-bg-2);\n  overflow: hidden;\n}\n@media screen and (min-width: 768px) {\n  .mfGAp {\n    min-height: 450px;\n  }\n}\n@media screen and (max-width: 768px) {\n  .mfGAp {\n    height: 7vh;\n  }\n}\n@media screen and (min-width: 768px) {\n  .ybQPf {\n    width: 200px !important;\n    height: 91.5vh !important;\n  }\n}\n@media screen and (max-width: 768px) {\n  .ybQPf {\n    width: 100%;\n  }\n}\n",""]),r.locals={"nav-wrapper":"mfGAp","nav-menu":"ybQPf"},t.default=r},235:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".uaF4V {\n  color: var(--color-text-2);\n  height: 4.5vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",""]),r.locals={"footer-wrapper":"uaF4V"},t.default=r},236:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".gGcyY {\n  color: var(--color-text-2);\n  margin: 1vh 0px;\n  margin-right: 10px;\n  position: relative;\n  overflow-x: hidden;\n}\n@media screen and (min-width: 768px) {\n  .gGcyY {\n    min-height: 450px;\n    height: 91.5vh;\n  }\n}\n@media screen and (max-width: 768px) {\n  .gGcyY {\n    margin-left: 10px;\n    height: calc(95vh - 10vh - 2vh - 1vh);\n  }\n}\n.gGcyY .xFwiI {\n  margin: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  overflow: auto;\n  position: absolute;\n}\n@media screen and (min-width: 768px) {\n  .gGcyY .xFwiI {\n    width: calc(100vw - 200px - 50px - 10px);\n    height: calc(100vh - 2vh - 30px - 5vh);\n  }\n}\n@media screen and (max-width: 768px) {\n  .gGcyY .xFwiI {\n    width: calc(100vw - 10px - 20px - 20px);\n    height: calc(95vh - 2vh - 10vh - 1vh - 2vh);\n  }\n}\n",""]),r.locals={"main-wrapper":"gGcyY","safe-area":"xFwiI"},t.default=r},238:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,"._8WeIo {\n  color: rgb(var(--primary-6));\n}\n",""]),r.locals={active:"_8WeIo"},t.default=r},297:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".C36s\\+ .SqaSp {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  transition: all 0.1s;\n}\n.C36s\\+ .SqaSp:hover {\n  background-color: rgb(var(--gray-2));\n}\na,\na:link,\na:visited,\na:hover,\na:active {\n  text-decoration: none;\n  color: inherit;\n}\n",""]),r.locals={"card-with-icon-hover":"C36s+","icon-hover":"SqaSp"},t.default=r},341:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,"@media screen and (max-width: 768px) {\n  .a4f9i {\n    width: 100vw !important;\n  }\n}\n@media screen and (min-width: 768px) {\n  .a4f9i {\n    width: 40vw !important;\n    height: 90vh !important;\n    margin: 5vh auto;\n    border-radius: 10px 0 0 10px;\n  }\n}\n",""]),r.locals={drawer2:"a4f9i"},t.default=r},342:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".HGNmb {\n  color: rgb(var(--orange-6));\n}\n",""]),r.locals={"ab-test":"HGNmb"},t.default=r},343:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".btSYn {\n  color: rgb(var(--orange-6));\n}\n.A2NPG {\n  color: rgb(var(--green-6));\n}\n.qFfI6 {\n  color: rgb(var(--gray-6));\n}\n.gp3rz {\n  color: rgb(var(--red-6));\n}\n",""]),r.locals={"under-test":"btSYn","finish-test":"A2NPG","suspend-test":"qFfI6","error-test":"gp3rz"},t.default=r},344:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".WjR-U {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: end;\n}\n.WjR-U > div {\n  width: 50%;\n  overflow: hidden;\n}\n.lMYPU {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n@media screen and (max-width: 768px) {\n  .lMYPU .N5D9t {\n    width: 100% !important;\n  }\n}\n@media screen and (min-width: 768px) {\n  .lMYPU .N5D9t {\n    width: calc(50% - 20px) !important;\n  }\n}\n",""]),r.locals={"cache-card":"WjR-U","card-wrapper":"lMYPU","arco-card":"N5D9t"},t.default=r},346:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".KWx41 {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.KWx41 > div {\n  width: 20%;\n  overflow: hidden;\n}\n",""]),r.locals={"item-card":"KWx41"},t.default=r},348:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a.n(n)()(!1);r.push([e.i,".cSQCT {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n.cSQCT .WSmCj {\n  width: 85%;\n}\n@media screen and (max-width: 768px) {\n  .cSQCT .WSmCj {\n    width: 80%;\n  }\n}\n.cSQCT ._7JCbK {\n  width: 10%;\n}\n@media screen and (max-width: 768px) {\n  .cSQCT ._7JCbK {\n    width: 15%;\n  }\n}\n",""]),r.locals={"schedule-input-wrapper":"cSQCT","input-item":"WSmCj","switch-item":"_7JCbK"},t.default=r},349:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),s=(a(223),a(6)),o=a(151),l=a.n(o),u=a(161),d=a(359),p=a(360),b=a(361),j=a(26),m=a(32),f=Object(n.createContext)({state:!1,dispatch:function(){}}),h=function(e,t){return t},O=Object(n.createContext)({language:"zh-CN",dispatchLanguage:function(){}}),x=function(e,t){return localStorage.setItem("language",t),t},g=a(380),v=a(1),w=u.a.Item,y=u.a.SubMenu,C={"/info":"0","/log":"1_0","/service":"1_1","/admin/api":"2_0","/admin/abTest":"2_1","/admin/user":"2_2","/admin/group":"2_3","/admin/biz":"2_4","/admin/log":"2_5","/admin/system":"2_6","/admin/other":"2_7"};function k(){var e=Object(g.a)().t,t=Object(j.h)(),a=Object(n.useContext)(f).state,r=Object(n.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],h=Object(n.useState)(""),O=Object(s.a)(h,2),x=O[0],k=O[1];Object(n.useEffect)((function(){o(a||"1"===sessionStorage.getItem("admin"))}),[i,a]),Object(n.useEffect)((function(){var e=C[t.pathname];k(e)}),[t.pathname]);var S=Object(n.useState)({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}),I=Object(s.a)(S,2),T=I[0],A=I[1],E=Object(n.useCallback)((function(){A({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight})}),[]);return Object(n.useEffect)((function(){return window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}),[E]),Object(v.jsx)("div",{className:"".concat(l.a["nav-wrapper"]," outter-card"),children:Object(v.jsxs)(u.a,{mode:T.width>768?"vertical":"horizontal",className:l.a["nav-menu"],defaultOpenKeys:["1","2"],defaultSelectedKeys:[x],selectedKeys:[x],children:[Object(v.jsx)(m.b,{to:"/info",children:Object(v.jsxs)(w,{children:[Object(v.jsx)(d.a,{}),e("nav.info")]},"0")}),Object(v.jsxs)(y,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{}),e("nav.btnMore")]}),children:[Object(v.jsx)(m.b,{to:"/log",children:Object(v.jsx)(w,{children:e("nav.log")},"1_0")}),Object(v.jsx)(m.b,{to:"/service",children:Object(v.jsx)(w,{children:e("nav.service")},"1_1")})]},"1"),i&&Object(v.jsxs)(y,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{})," ",e("nav.btnConfig")]}),children:[Object(v.jsx)(m.b,{to:"/admin/api",children:Object(v.jsx)(w,{children:e("nav.api")},"2_0")}),Object(v.jsx)(m.b,{to:"/admin/abTest",children:Object(v.jsx)(w,{children:e("nav.abTest")},"2_1")}),Object(v.jsx)(m.b,{to:"/admin/user",children:Object(v.jsx)(w,{children:e("nav.user")},"2_2")}),Object(v.jsx)(m.b,{to:"/admin/group",children:Object(v.jsx)(w,{children:e("nav.group")},"2_3")}),Object(v.jsx)(m.b,{to:"/admin/biz",children:Object(v.jsx)(w,{children:e("nav.biz")},"2_4")}),Object(v.jsx)(m.b,{to:"/admin/log",children:Object(v.jsx)(w,{children:e("nav.sysLog")},"2_5")}),Object(v.jsx)(m.b,{to:"/admin/system",children:Object(v.jsx)(w,{children:e("nav.system")},"2_6")}),Object(v.jsx)(m.b,{to:"/admin/other",children:Object(v.jsx)(w,{children:e("nav.other")},"2_7")})]},"2")]})})}var S=a(198),I=a.n(S);function T(e){var t=e.info;return Object(v.jsx)("div",{className:"".concat(I.a["footer-wrapper"]," outter-card"),children:"".concat((new Date).getFullYear()," ©️").concat(t)})}var A=a(153),E=a.n(A),N=a(354),D=a(132),F=a(376),R=a(27);function z(){var e=Object(g.a)().t,t=Object(j.g)(),a=Object(n.useCallback)((function(){t.goBack()}),[t]);return Object(v.jsx)("div",{children:Object(v.jsx)(F.a,{status:"404",subTitle:e("page.notFound.desc"),extra:[Object(v.jsx)(R.a,{type:"primary",onClick:a,children:e("page.notFound.back")},"back")]})})}function P(){var e,t=Object(g.a)().t,a=(e=Object(j.h)().search,Object(n.useMemo)((function(){return new URLSearchParams(e)}),[e])).get("service"),r=Object(n.useCallback)((function(){window.localStorage.removeItem("service"),a&&window.localStorage.setItem("service",a)}),[a]),c=Object(n.useCallback)((function(){window.location.href="https://github.com/login/oauth/authorize?client_id=bd29a9c2458c51142f68"}),[]);return Object(n.useEffect)((function(){r(),c()})),Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:Object(v.jsx)("p",{children:t("page.login.toAuth")})})}var M,G,B,U,L=a(4),Y=a.n(L),_=a(7),H=function(e){(e=e||{}).method=e.method.toUpperCase()||"POST",e.url=e.url||"",e.async=e.async||!0,e.data=e.data||null,e.success=e.success||function(){};var t=new XMLHttpRequest;return new Promise((function(a,n){if("POST"===e.method.toUpperCase()||"PUT"===e.method.toUpperCase())t.open(e.method,e.url,e.async),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.setRequestHeader("Authorization",sessionStorage.getItem("token")||localStorage.getItem("token")),t.send(JSON.stringify(e.data)),t.onreadystatechange=function(){4===t.readyState&&a(t.responseText)};else if("GET"===e.method.toUpperCase()||"DELETE"===e.method.toUpperCase()){var r=[];for(var c in e.data)r.push(c+"="+e.data[c]);var i=r.join("&");t.open(e.method,e.url+"?"+i,e.async),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.setRequestHeader("Authorization",sessionStorage.getItem("token")||localStorage.getItem("token")),t.send(null),t.onreadystatechange=function(){4===t.readyState&&a(t.responseText)}}}))},V=a(192),W=a(71).throttle((function(e){e?V.a.error(e):V.a.error("网络错误")}),1e3,{leading:!0,trailing:!1}),K=function(){var e=Object(_.a)(Y.a.mark((function e(t,a,n){var r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.niko-gateway.top:7003"+t,e.next=3,H({method:a,url:t,data:n});case 3:if(r=e.sent){e.next=7;break}return W(),e.abrupt("return",{});case 7:return 0!==(c=JSON.parse(r||"{}")).error&&(40104!==c.code&&40101!==c.code||(window.location.href="/login"),42200===c.code?W("参数错误"):W(c.error||"未知错误")),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),q={get:(U=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,"get",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return U.apply(this,arguments)}),post:(B=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,"post",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return B.apply(this,arguments)}),put:(G=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,"put",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)}),delete:(M=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,"delete",a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return M.apply(this,arguments)})},J=q,Q=a(154),Z=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/auth?ticket=".concat(t,"&device=").concat(Q.a.type+" "+Q.a.os,"&service=").concat(localStorage.getItem("service")||""),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=a(374),$=a(18),ee=a.n($);function te(){var e,t=Object(g.a)().t,a=Object(n.useState)(!1),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useRef)(""),l=Object(n.useRef)(""),u=(e=Object(j.h)().search,Object(n.useMemo)((function(){return new URLSearchParams(e)}),[e])),d=Object(j.g)(),p=Object(n.useCallback)((function(e,t){t?window.location.href=t+"".concat(e?"?token="+e:""):d.push("/info")}),[d]),b=Object(n.useCallback)((function(e,t){e&&localStorage.setItem("token",o.current),t&&localStorage.setItem("trust",ee()().add(7,"days").toString()),sessionStorage.setItem("token",o.current),localStorage.removeItem("service"),p(o.current,l.current)}),[l,o,p]),m=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var a,n,r,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.get("code")){e.next=4;break}return V.a.error(t("page.auth.noTicket")),e.abrupt("return");case 4:return e.next=6,Z(a);case 6:n=e.sent,(null==(r=n.data)?void 0:r.accessToken)&&(c=ee()(localStorage.getItem("trust")).isAfter(ee()()),o.current=r.accessToken,l.current=r.redirectUrl,c?b(!0,!1):i(!0));case 9:case"end":return e.stop()}}),e)}))),[u,b,t]);return Object(n.useEffect)((function(){m()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:Object(v.jsx)("p",{children:t("page.auth.check")})}),Object(v.jsx)(X.a,{simple:!0,visible:c,onOk:function(){return b(!0,!0)},onCancel:function(){return b(!1)},okText:t("common.yes"),cancelText:t("common.no"),children:t("page.auth.trust")})]})}var ae=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/info",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/info/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=a(379),ce=a(95),ie=a(363),se=a(362),oe=a(127),le=a(155),ue=a.n(le);function de(){var e=Object(n.useContext)(O).dispatchLanguage,t=Object(g.a)().i18n,a=Object(n.useMemo)((function(){var a=t.language;return Object(v.jsxs)(u.a,{children:[Object(v.jsx)(u.a.Item,{onClick:function(){t.changeLanguage("zh-CN"),e("zh-CN")},children:Object(v.jsx)("div",{className:"".concat("zh-CN"===a?ue.a.active:""),children:"简体中文"})},"1"),Object(v.jsx)(u.a.Item,{onClick:function(){t.changeLanguage("en"),e("en-US")},children:Object(v.jsx)("div",{className:"".concat("en"===a?ue.a.active:""),children:"English"})},"2")]})}),[t,t.language]);return Object(v.jsx)("div",{style:{fontSize:"1.25rem",cursor:"pointer"},children:Object(v.jsx)(oe.a,{droplist:a,position:"br",trigger:"click",children:Object(v.jsx)(se.a,{})})})}function pe(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(n.useContext)(f).dispatch,d=Object(g.a)(),p=d.t,b=d.i18n,j=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t,a,n,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),ee.a.locale(b.language),e.next=4,ae();case 4:return a=e.sent,n=a.data,e.next=8,ne();case 8:if(e.t2=t=e.sent.data,e.t1=null===e.t2,e.t1){e.next=12;break}e.t1=void 0===t;case 12:if(!e.t1){e.next=16;break}e.t3=void 0,e.next=17;break;case 16:e.t3=t.groupMap;case 17:if(e.t0=e.t3,e.t0){e.next=20;break}e.t0=[];case 20:c=e.t0,n&&(r([{label:p("page.info.staffName"),value:n.staffName},{label:p("page.info.staffId"),value:n.staffId},{label:p("page.info.tokenExp"),value:ee()(n.accessTokenExp).fromNow()},{label:p("page.info.userGroup"),value:c.map((function(e){return e.name})).join(" | ")}]),c.find((function(e){return 1===e.id}))&&(u(!0),sessionStorage.setItem("admin","1"))),l(!1);case 23:case"end":return e.stop()}}),e)}))),[u,b.language,p]);return Object(n.useEffect)((function(){j()}),[j]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(re.a,{title:p("page.info.title"),bordered:!1,extra:Object(v.jsx)(de,{}),children:Object(v.jsx)(ce.a,{loading:o,style:{display:"block"},children:Object(v.jsx)(ie.a,{colon:" :",data:a,layout:"inline-horizontal",size:"large"})})})})}var be=a(43),je=a(369),me=a(364),fe=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/info/log",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function he(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(g.a)(),d=u.t,p=u.i18n,b=Object(n.useMemo)((function(){return[{title:d("page.userLog.table.id"),dataIndex:"userId"},{title:d("page.userLog.table.service"),render:function(e,t){return t.service||"Niko-Gateway"}},{title:d("page.userLog.table.device"),dataIndex:"device"},{title:d("page.userLog.table.time"),dataIndex:"createdAt",render:function(e,t,a){return ee.a.locale(p.language),Object(v.jsx)("span",{children:ee()(t.createdAt).calendar()})}}]}),[d,p]),j=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fe();case 3:a=e.sent,(null===(t=a.data)||void 0===t?void 0:t.log)&&r(a.data.log),l(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){j()}),[j]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(re.a,{title:d("page.userLog.title"),bordered:!1,bodyStyle:{padding:0,paddingTop:10},extra:Object(v.jsx)("div",{style:{fontSize:"1.25rem",cursor:"pointer"},children:Object(v.jsx)(be.a,{mini:!0,content:d("page.userLog.tip"),position:"left",trigger:"click",children:Object(v.jsx)(me.a,{})})}),children:Object(v.jsx)(je.a,{columns:b,border:!1,loading:o,data:a})})})}var Oe=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/info/biz",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=a(213),ge=a(21),ve=a(377),we=a(372),ye=a(119),Ce=a(365),ke=a(156),Se=a.n(ke),Ie=function(e){var t=e.biz,a=e.children,n=Object(g.a)().t;return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(v.jsxs)("span",{style:{display:"flex",alignItems:"center",color:"#1D2129"},children:[Object(v.jsx)(ve.a,{style:{marginRight:8,backgroundColor:"#165DFF"},size:28,children:t.name.substr(0,1).toUpperCase()}),Object(v.jsx)(we.a.Text,{children:"".concat(t.name," ").concat(t.isOpen?"":"(".concat(n("page.service.closed"),")"))})]}),a]})};function Te(e){var t=e.biz,a=Object(g.a)().t;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(ye.a,{trigger:"hover",content:t.comment,position:"br",children:Object(v.jsx)(re.a,{className:Se.a["card-with-icon-hover"],hoverable:!0,style:{width:"49%",cursor:t.isOpen?"pointer":"",marginBottom:"1%"},onClick:function(){t.isOpen?window.location.href="".concat(t.url):V.a.warning(a("page.service.tipClosed"))},children:Object(v.jsx)("a",{href:t.url,children:Object(v.jsx)(Ie,{biz:Object(ge.a)({},t),children:Object(v.jsx)("span",{className:Se.a["icon-hover"],children:Object(v.jsx)(Ce.a,{})})})})})})})}function Ae(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(g.a)().t,d=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Oe();case 3:(t=e.sent).data&&r(t.data.biz),l(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){d()}),[d]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(ce.a,{loading:o,style:{display:"block"},children:Object(v.jsx)(re.a,{title:u("page.service.title"),bordered:!1,bodyStyle:{padding:0,paddingTop:10,display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between"},children:a.length>0?a.map((function(e){return Object(v.jsx)(Te,{biz:e},e.id)})):Object(v.jsx)(xe.a,{})})})})}var Ee=a(37),Ne=a(366),De=a(82);function Fe(e){var t=Object(g.a)().t,a=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(n.useCallback)((function(e,t){r(Object(ge.a)(Object(ge.a)({},a),{},Object(Ee.a)({},e,t)))}),[a,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(Ne.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminUser.search.id")}),Object(v.jsx)(De.a,{onChange:function(e){i("id",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminUser.search.staffName")}),Object(v.jsx)(De.a,{onChange:function(e){i("staffName",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminUser.search.staffId")}),Object(v.jsx)(De.a,{onChange:function(e){i("staffId",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("page.adminUser.search.btn")})]})})}var Re=a(371),ze=a(367),Pe=a(163);function Me(e){var t=e.onClose,a=e.onSubmit,n=e.loading,r=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:n,type:"primary",onClick:a,children:r("common.update")}),Object(v.jsx)(R.a,{loading:n,type:"secondary",onClick:t,children:r("common.cancel")})]})}var Ge=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/user",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/userGroupMap",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/userGroupMap",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("/userGroupMap/1",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=Re.a.Item,He=function(e,t){var a=new Set(e),n=new Set(t);return[t.filter((function(e){return!a.has(e)})),e.filter((function(e){return!n.has(e)}))]};function Ve(e){var t=Object(g.a)().t,a=e.group,r=e.visible,c=e.onClose,i=e.data,o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Re.a.useForm(),b=Object(s.a)(p,1)[0],j=Object(n.useState)(),m=Object(s.a)(j,2),f=m[0],h=m[1],O=Object(n.useState)(),x=Object(s.a)(O,2),w=x[0],y=x[1],C=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t,a,n,r,o,l,u,p,j;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),t=b.getFieldsValue(),a=t.groupId,n=He(f||[],a),r=Object(s.a)(n,2),o=r[0],l=r[1],u=!0,!o.length){e.next=11;break}return p=o.map((function(e){return{userId:Number(i.id),groupId:e}})),e.next=9,Ue({map:p});case 9:"success"!==e.sent.msg&&(u=!1);case 11:if(!l.length){e.next=18;break}return j=[],w.forEach((function(e){l.includes(Number(e.groupId))&&j.push(e.id)})),e.next=16,Ye({id:j.toString()});case 16:"success"!==e.sent.msg&&(u=!1);case 18:u&&c(!0),d(!1);case 20:case"end":return e.stop()}}),e)}))),[f,i,b,c,w]),k=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t,a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Le({userId:i.id});case 3:(t=e.sent).data&&(a=t.data.group.group,n=t.data.map.idMap,h(a.map((function(e){return e.id}))),y(n),b.setFieldsValue({groupId:a.map((function(e){return e.id}))})),d(!1);case 6:case"end":return e.stop()}}),e)}))),[i,b]);return Object(n.useEffect)((function(){i&&k()}),[i,k]),Object(v.jsx)("div",{children:Object(v.jsx)(ze.a,{visible:r,onCancel:function(){return c(!1)},className:"drawer",closable:!1,title:t("page.adminUser.drawer.title"),footer:Object(v.jsx)(Me,{loading:u,onClose:function(){return c(!1)},onSubmit:C}),children:Object(v.jsx)(Re.a,{form:b,className:"drawer-form",children:Object(v.jsx)(_e,{label:t("page.adminUser.drawer.group"),field:"groupId",children:Object(v.jsx)(Pe.a,{mode:"multiple",children:a.map((function(e){return Object(v.jsx)(Pe.a.Option,{value:e.id,children:e.name},e.id)}))})})})})})}var We=a(158),Ke=Pe.a.Option;function qe(e){var t=Object(g.a)().t,a=e.users,r=e.groups,c=e.visible,i=e.onClose,o=Object(n.useState)([]),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(n.useState)(!1),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var n,r,c,s,o,l,d;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),n=[],r=Object(We.a)(a);try{for(r.s();!(c=r.n()).done;){s=c.value,o=Object(We.a)(u);try{for(o.s();!(l=o.n()).done;)d=l.value,n.push({userId:Number(s),groupId:Number(d)})}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}if(n.length){e.next=8;break}return V.a.error(t("common.paramsError")),m(!1),e.abrupt("return");case 8:return e.next=10,Ue({map:n});case 10:"success"===e.sent.msg&&i(!0),m(!1);case 13:case"end":return e.stop()}}),e)}))),[i,u,t,a]);return Object(v.jsx)(X.a,{title:t("page.adminUser.popUp.title"),visible:c,onCancel:function(){return i(!1)},autoFocus:!1,focusLock:!0,footer:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(R.a,{onClick:function(){i(!1)},children:t("common.cancel")}),Object(v.jsx)(R.a,{loading:j,onClick:function(){f()},type:"primary",style:{marginLeft:12},children:t("common.save")})]}),children:Object(v.jsx)(Pe.a,{defaultValue:[],mode:"multiple",onChange:function(e){d(e)},children:r.map((function(e){return Object(v.jsx)(Ke,{value:e.id,children:e.name},e.id)}))})})}function Je(e){var t=Object(g.a)().t,a=e.loading,r=e.data,c=e.total,i=e.paginate,o=e.onPageChange,l=e.fetchData,u=Object(n.useState)(),d=Object(s.a)(u,2),p=d[0],b=d[1],j=Object(n.useState)(!1),m=Object(s.a)(j,2),f=m[0],h=m[1],O=Object(n.useState)([]),x=Object(s.a)(O,2),w=x[0],y=x[1],C=Object(n.useState)([]),k=Object(s.a)(C,2),S=k[0],I=k[1],T=Object(n.useState)(!1),A=Object(s.a)(T,2),E=A[0],N=A[1],D=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be();case 2:(t=e.sent).data&&y(t.data.group);case 4:case"end":return e.stop()}}),e)}))),[]),F=Object(n.useCallback)((function(e,t){return{onClick:function(){h(!0),b(e)}}}),[]),z=Object(n.useMemo)((function(){return[{title:t("page.adminUser.table.id"),dataIndex:"id",onCell:F},{title:t("page.adminUser.table.staffName"),dataIndex:"staffName",onCell:F},{title:t("page.adminUser.table.staffId"),dataIndex:"staffId",onCell:F}]}),[F,t]),P=Object(n.useCallback)((function(e){o(e)}),[o]);return Object(n.useEffect)((function(){D()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(je.a,{rowKey:"id",scroll:{y:"60vh"},data:r,columns:z,loading:a,pagination:{total:c,pageSize:i.current.ipp,current:i.current.page,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0,sizeOptions:[10,20,50,100,200,500,1e3]},rowSelection:{type:"checkbox",fixed:!0,selectedRowKeys:S,onChange:function(e){I(e)}},onChange:P,renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)("div",{children:S.length>0&&Object(v.jsx)(R.a,{type:"primary",size:"mini",onClick:function(){N(!0)},children:t("page.adminUser.popUp.btn")})}),e]})}}),Object(v.jsx)(qe,{visible:E,onClose:function(e){e&&l(),e&&V.a.success(t("common.success")),N(!1)},users:S,groups:w}),Object(v.jsx)(Ve,{group:w,visible:f,onClose:function(e){e&&l(),e&&V.a.success(t("common.success")),h(!1)},data:p})]})}var Qe,Ze,Xe={page:1,ipp:10};function $e(){var e=Object(g.a)().t,t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useRef)(Xe),o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(n.useState)(0),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(n.useState)([]),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=Object(ge.a)(Object(ge.a)({},r),i.current),e.next=4,Ge(t);case 4:(a=e.sent).data&&(x(a.data.user),m(a.data.count)),d(!1);case 7:case"end":return e.stop()}}),e)}))),[r,i]),y=Object(n.useCallback)(function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current={page:t.current||1,ipp:t.pageSize||10},e.next=3,w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w]);return Object(n.useEffect)((function(){w()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(re.a,{title:e("page.adminUser.title"),bordered:!1,children:[Object(v.jsx)(Fe,{filter:r,setFilter:c,handleSearch:w}),Object(v.jsx)(Je,{fetchData:w,total:j,data:O,loading:u,onPageChange:y,paginate:i})]})})}function et(e){var t=Object(g.a)().t,a=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(n.useCallback)((function(e,t){r(Object(ge.a)(Object(ge.a)({},a),{},Object(Ee.a)({},e,t)))}),[a,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(Ne.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.comment")}),Object(v.jsx)(De.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.origin")}),Object(v.jsx)(De.a,{onChange:function(e){i("origin",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.server")}),Object(v.jsx)(De.a,{onChange:function(e){i("server",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.dest")}),Object(v.jsx)(De.a,{onChange:function(e){i("dest",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.method")}),Object(v.jsx)(De.a,{onChange:function(e){i("method",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}!function(e){e.POST="post",e.GET="get",e.PUT="put",e.DELETE="delete"}(Qe||(Qe={})),function(e){e.CREATE="create",e.MODIFY="modify"}(Ze||(Ze={}));var tt=a(200),at=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/request",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/request",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("/request/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ct=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("/request/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/biz",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=a(381);function lt(e){var t=e.onClose,a=e.onDelete,n=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:n,children:c===Ze.MODIFY?i("common.update"):i("common.save")}),c===Ze.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:a,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var ut=a(116),dt=a(80),pt=a(203),bt=a.n(pt);function jt(e){var t=Object(g.a)().t,a=e.visible,r=e.onClose,c=e.currentHeader,i=Object(n.useState)(),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(n.useState)(!1),w=Object(s.a)(x,2),y=w[0],C=w[1],k=Object(n.useCallback)((function(){r(l)}),[l,r]),S=Object(n.useCallback)((function(){r()}),[r]),I=Object(n.useCallback)((function(e,t,a){var n=JSON.parse(JSON.stringify(l));"del"===a?delete n[e]:(n[e]=t,j(""),O("")),u(Object(ge.a)({},n))}),[l]);return Object(n.useEffect)((function(){u(c)}),[c]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(ze.a,{className:bt.a.drawer2,title:t("page.adminApi.drawer2.title"),visible:a,onOk:k,onCancel:S,children:[Object.keys(l||{}).map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(De.a.Group,{style:{height:"50px"},children:[Object(v.jsx)(De.a,{style:{width:"30%"},value:e,disabled:!0}),Object(v.jsx)(ut.a,{style:{color:"var(--color-text-1)"}}),Object(v.jsx)(De.a,{style:{width:"50%"},value:l[e],disabled:!0}),Object(v.jsx)(R.a,{type:"primary",icon:Object(v.jsx)(ut.a,{}),onClick:function(){I(e,"","del")}})]})})})),Object(v.jsxs)(De.a.Group,{style:{height:"50px"},children:[Object(v.jsx)(De.a,{placeholder:t("page.adminApi.drawer2.key"),error:y,style:{width:"30%"},value:b,onChange:function(e){e&&C(!1),j(e)}}),Object(v.jsx)(ut.a,{style:{color:"var(--color-text-1)"}}),Object(v.jsx)(De.a,{placeholder:t("page.adminApi.drawer2.value"),error:y,style:{width:"50%"},value:h,onChange:function(e){e&&C(!1),O(e)}}),Object(v.jsx)(R.a,{type:"primary",icon:Object(v.jsx)(dt.a,{}),onClick:function(){b?I(b,h,"add"):C(!0)}})]})]})})}var mt=Re.a.Item;function ft(e){var t=e.visible,a=e.onClose,r=e.data,c=e.usage,i=e.group,o=e.biz,l=Re.a.useForm(),u=Object(s.a)(l,1)[0],d=Object(n.useState)(!1),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(n.useState)(!1),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(g.a)().t,w=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),t=Object(ge.a)(Object(ge.a)({},u.getFieldsValue()),{},{customHeader:u.getFieldValue("customHeader")}),c!==Ze.CREATE){e.next=9;break}return e.next=5,nt(t);case 5:e.sent.data&&a(!0),e.next=13;break;case 9:return e.next=11,rt(r.id,t);case 11:e.sent.data&&a(!0);case 13:O(!1);case 14:case"end":return e.stop()}}),e)}))),[r,u,a,c]),y=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ct(r.id);case 2:e.sent.data&&a(!0),O(!1);case 5:case"end":return e.stop()}}),e)}))),[r,a]);return Object(n.useEffect)((function(){u.resetFields(),c===Ze.MODIFY?u.setFieldsValue(r):u.setFieldsValue({dest:"/",switch:!0,abTest:!1})}),[r,u,c,t]),Object(v.jsxs)(ze.a,{visible:t,onCancel:function(){return a(!1)},className:"drawer",closable:!1,title:x("page.adminApi.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)(lt,{usage:c,loading:h,onClose:function(){return a(!1)},onDelete:y,onSubmit:w}),children:[Object(v.jsxs)(Re.a,{form:u,className:"drawer-form",children:[Object(v.jsx)(mt,{label:x("page.adminApi.drawer.comment"),field:"comment",children:Object(v.jsx)(De.a,{placeholder:"input comment for api config"})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.router"),field:"origin",children:Object(v.jsx)(De.a,{placeholder:"input router for api config"})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.method"),field:"method",children:Object(v.jsxs)(Pe.a,{children:[Object(v.jsx)(Pe.a.Option,{value:"get",children:"GET"}),Object(v.jsx)(Pe.a.Option,{value:"post",children:"POST"}),Object(v.jsx)(Pe.a.Option,{value:"put",children:"PUT"}),Object(v.jsx)(Pe.a.Option,{value:"delete",children:"DELETE"})]})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.server"),field:"server",children:Object(v.jsx)(Pe.a,{children:o.map((function(e){return Object(v.jsx)(Pe.a.Option,{value:e.api,children:e.name+" "+e.api},e.id)}))})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.dest"),field:"dest",children:Object(v.jsx)(De.a,{placeholder:"input dest for api config"})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.switch"),field:"switch",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:x("common.on"),uncheckedText:x("common.off")})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.abTest"),field:"abTest",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:x("common.on"),uncheckedText:x("common.off")})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.isPublic"),field:"isPublic",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:x("common.on"),uncheckedText:x("common.off")})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.allowGroup"),field:"allowGroup",children:Object(v.jsx)(Pe.a,{mode:"multiple",children:i.map((function(e){return Object(v.jsx)(Pe.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(v.jsx)(mt,{label:x("page.adminApi.drawer.customHeader"),children:Object(v.jsx)(R.a,{type:"primary",onClick:function(){return j(!b)},children:x("page.adminApi.drawer.customHeaderBtn")})})]}),Object(v.jsx)(jt,{visible:b,onClose:function(e){u.setFieldValue("customHeader",e),j(!1)},currentHeader:(null==r?void 0:r.customHeader)||{}})]})}var ht=a(204),Ot=a.n(ht);function xt(e){var t=Object(g.a)(),a=t.t,r=t.i18n,c=e.loading,i=e.data,o=e.total,l=e.paginate,u=e.onPageChange,d=e.fetchData,p=Object(n.useState)(!1),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(n.useState)(),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(n.useState)(Ze.CREATE),y=Object(s.a)(w,2),C=y[0],k=y[1],S=Object(n.useState)([]),I=Object(s.a)(S,2),T=I[0],A=I[1],E=Object(n.useState)([]),N=Object(s.a)(E,2),D=N[0],F=N[1],z=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it();case 2:(t=e.sent).data&&A(t.data.group);case 4:case"end":return e.stop()}}),e)}))),[]),P=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st();case 2:(t=e.sent).data&&F(t.data.biz);case 4:case"end":return e.stop()}}),e)}))),[]),M=Object(n.useMemo)((function(){return[{title:a("page.adminApi.table.comment"),dataIndex:"comment",width:"10%"},{title:a("page.adminApi.table.origin"),dataIndex:"origin",width:"15%",fixed:"left",render:function(e,t,a){return Object(v.jsx)("div",{className:"".concat(t.abTest?Ot.a["ab-test"]:""," "),children:t.origin})}},{title:a("page.adminApi.table.server"),dataIndex:"server",width:"20%"},{title:a("page.adminApi.table.dest"),width:250,dataIndex:"dest"},{title:a("page.adminApi.table.allowGroup"),render:function(e,t,a){return Object(v.jsx)(v.Fragment,{children:t.allowGroup.map((function(e){var t;return Object(v.jsx)(tt.a,{checkable:!0,color:"arcoblue",defaultChecked:!0,checked:!0,style:{margin:"1px",borderRadius:"1em"},children:null===(t=T.find((function(t){return t.id===e})))||void 0===t?void 0:t.name})}))})}},{title:a("page.adminApi.table.switch"),width:"100px",render:function(e,t,n){return Object(v.jsx)("div",{children:t.switch?a("common.on"):a("common.off")})}},{title:a("page.adminApi.table.isPublic"),width:"100px",render:function(e,t,n){return Object(v.jsx)("div",{children:t.isPublic?a("common.yes"):a("common.no")})}},{title:a("page.adminApi.table.createdAt"),width:200,dataIndex:"createdAt",render:function(e,t,a){return ee.a.locale(r.language),Object(v.jsx)("div",{children:ee()(t.createdAt).toDate().toLocaleString()})}},{title:a("page.adminApi.table.updatedAt"),width:200,dataIndex:"updatedAt",render:function(e,t,a){return ee.a.locale(r.language),Object(v.jsx)("div",{children:ee()(t.updatedAt).toDate().toLocaleString()})}},{title:a("page.adminApi.table.method"),dataIndex:"method",width:80,fixed:"right"}]}),[T,r.language,a]),G=Object(n.useCallback)((function(e){u(e)}),[u]),B=Object(n.useCallback)((function(){x(void 0),k(Ze.CREATE),m(!0)}),[]),U=Object(n.useCallback)((function(e,t){return{onClick:function(){x(e),k(Ze.MODIFY),m(!0)}}}),[]);return Object(n.useEffect)((function(){z(),P()}),[z,P]),Object(v.jsxs)("div",{children:[Object(v.jsx)(je.a,{scroll:{y:"50vh",x:2e3},data:i,columns:M,loading:c,onChange:G,onRow:U,pagination:{total:o,pageSize:l.current.ipp,current:l.current.page,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0,sizeOptions:[10,20,50,100,200,500,1e3]},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:B,children:a("common.new")}),e]})}}),Object(v.jsx)(ft,{group:T,biz:D,usage:C,visible:j,onClose:function(e){m(!1),e&&d(),e&&V.a.success(a("common.success"))},data:O})]})}var gt,vt={page:1,ipp:10};function wt(){var e=Object(g.a)().t,t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useRef)(vt),o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(n.useState)(0),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(n.useState)([]),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=Object(ge.a)(Object(ge.a)({},r),i.current),e.next=4,at(t);case 4:(a=e.sent).data&&(x(a.data.api),m(a.data.count)),d(!1);case 7:case"end":return e.stop()}}),e)}))),[r,i]),y=Object(n.useCallback)(function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current={page:t.current||1,ipp:t.pageSize||10},e.next=3,w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w]);return Object(n.useEffect)((function(){w()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(re.a,{title:e("page.adminApi.title"),bordered:!1,children:[Object(v.jsx)(et,{filter:r,setFilter:c,handleSearch:w}),Object(v.jsx)(xt,{total:j,data:O,loading:u,onPageChange:y,paginate:i,fetchData:w})]})})}!function(e){e.CREATE="create",e.MODIFY="modify"}(gt||(gt={}));var yt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/group",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/group",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("/group/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),St=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("/group/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function It(e){var t=e.onClose,a=e.onDelete,n=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:n,children:c===gt.MODIFY?i("common.update"):i("common.save")}),c===gt.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:a,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var Tt,At=Re.a.Item;function Et(e){var t=e.visible,a=e.onClose,r=e.data,c=e.usage,i=Re.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(n.useState)(!1),u=Object(s.a)(l,2),d=u[0],p=u[1],b=Object(g.a)().t,j=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),t=o.getFieldsValue(),c!==gt.CREATE){e.next=9;break}return e.next=5,Ct(t);case 5:e.sent.data&&a(!0),e.next=13;break;case 9:return e.next=11,kt(r.id,t);case 11:e.sent.data&&a(!0);case 13:p(!1);case 14:case"end":return e.stop()}}),e)}))),[r,o,a,c]),m=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,St(r.id);case 2:e.sent.data&&a(!0),p(!1);case 5:case"end":return e.stop()}}),e)}))),[r,a]);return Object(n.useEffect)((function(){o.resetFields(),c===gt.MODIFY&&o.setFieldsValue(r)}),[r,o,c]),Object(v.jsx)(ze.a,{visible:t,onCancel:function(){return a(!1)},className:"drawer",closable:!1,title:b("page.adminGroup.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)(It,{usage:c,loading:d,onClose:function(){return a(!1)},onDelete:m,onSubmit:j}),children:Object(v.jsxs)(Re.a,{form:o,className:"drawer-form",children:[Object(v.jsx)(At,{label:b("page.adminGroup.drawer.name"),field:"name",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(At,{label:b("page.adminGroup.drawer.comment"),field:"comment",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(At,{label:b("page.adminGroup.drawer.default"),field:"default",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{})})]})})}function Nt(e){var t=e.data,a=e.total,r=e.loading,c=e.fetchData,i=Object(g.a)().t,o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(n.useState)(),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(n.useState)(gt.CREATE),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(n.useMemo)((function(){return[{title:i("page.adminGroup.table.id"),dataIndex:"id",width:"80px"},{title:i("page.adminGroup.table.name"),dataIndex:"name"},{title:i("page.adminGroup.table.comment"),dataIndex:"comment"},{title:i("page.adminGroup.table.default"),dataIndex:"default",render:function(e,t){return i("common.".concat(t.default?"yes":"no"))}},{title:i("page.adminGroup.table.createdAt"),width:"200px",render:function(e,t){return ee()(t.createdAt).toDate().toLocaleString()}},{title:i("page.adminGroup.table.updatedAt"),width:"200px",render:function(e,t){return ee()(t.updatedAt).toDate().toLocaleString()}}]}),[i]),y=Object(n.useCallback)((function(e){return{onClick:function(){m(e),x(gt.MODIFY),d(!0)}}}),[]),C=Object(n.useCallback)((function(){m(void 0),x(gt.CREATE),d(!0)}),[]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(je.a,{scroll:{y:"50vh"},data:t,columns:w,loading:r,onRow:y,pagination:{total:a,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:C,children:i("common.new")}),e]})}}),Object(v.jsx)(Et,{usage:O,visible:u,onClose:function(e){d(!1),e&&c(),e&&V.a.success(i("common.success"))},data:j})]})}function Dt(e){var t=Object(g.a)().t,a=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(n.useCallback)((function(e,t){r(Object(ge.a)(Object(ge.a)({},a),{},Object(Ee.a)({},e,t)))}),[a,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(Ne.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminGroup.filter.id")}),Object(v.jsx)(De.a,{onChange:function(e){i("id",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"name",children:t("page.adminGroup.filter.name")}),Object(v.jsx)(De.a,{onChange:function(e){i("name",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminGroup.filter.comment")}),Object(v.jsx)(De.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}function Ft(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(g.a)().t,i=Object(n.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!0),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(n.useState)(0),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,yt(a);case 3:(t=e.sent).data&&(u(t.data.group),O(t.data.count)),j(!1);case 6:case"end":return e.stop()}}),e)}))),[a]);return Object(n.useEffect)((function(){x()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(re.a,{title:c("page.adminGroup.title"),bordered:!1,children:[Object(v.jsx)(Dt,{filter:a,setFilter:r,handleSearch:x}),Object(v.jsx)(Nt,{total:h,data:l,loading:b,fetchData:x})]})})}!function(e){e.CREATE="create",e.MODIFY="modify"}(Tt||(Tt={}));var Rt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/biz",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/biz",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("/biz/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("/biz/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Bt(e){var t=e.onClose,a=e.onDelete,n=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:n,children:c===Tt.MODIFY?i("common.update"):i("common.save")}),c===Tt.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:a,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var Ut,Lt=Re.a.Item;function Yt(e){var t=e.visible,a=e.onClose,r=e.data,c=e.usage,i=e.group,o=Re.a.useForm(),l=Object(s.a)(o,1)[0],u=Object(n.useState)(!1),d=Object(s.a)(u,2),p=d[0],b=d[1],j=Object(g.a)().t,m=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),t=l.getFieldsValue(),c!==Tt.CREATE){e.next=9;break}return e.next=5,zt(t);case 5:e.sent.data&&a(!0),e.next=13;break;case 9:return e.next=11,Pt(r.id,t);case 11:e.sent.data&&a(!0);case 13:b(!1);case 14:case"end":return e.stop()}}),e)}))),[r,l,a,c]),f=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(r.id);case 2:e.sent.data&&a(!0),b(!1);case 5:case"end":return e.stop()}}),e)}))),[r,a]);return Object(n.useEffect)((function(){l.resetFields(),c===Tt.MODIFY&&l.setFieldsValue(r)}),[r,l,c]),Object(v.jsx)(ze.a,{visible:t,onCancel:function(){return a(!1)},className:"drawer",closable:!1,title:j("page.adminBiz.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)(Bt,{usage:c,loading:p,onClose:function(){return a(!1)},onDelete:f,onSubmit:m}),children:Object(v.jsxs)(Re.a,{form:l,className:"drawer-form",children:[Object(v.jsx)(Lt,{label:j("page.adminBiz.drawer.name"),field:"name",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(Lt,{label:j("page.adminBiz.drawer.comment"),field:"comment",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(Lt,{label:j("page.adminBiz.drawer.url"),field:"url",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(Lt,{label:j("page.adminBiz.drawer.api"),field:"api",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(Lt,{label:j("page.adminBiz.drawer.allowGroup"),field:"allowGroup",children:Object(v.jsx)(Pe.a,{mode:"multiple",children:i.map((function(e){return Object(v.jsx)(Pe.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(v.jsx)(Lt,{label:j("page.adminBiz.drawer.isOpen"),field:"isOpen",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:j("common.on"),uncheckedText:j("common.off")})}),Object(v.jsx)(Lt,{label:j("page.adminBiz.drawer.isPublic"),field:"isPublic",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:j("common.on"),uncheckedText:j("common.off")})})]})})}function _t(e){var t=e.data,a=e.total,r=e.loading,c=e.fetchData,i=Object(g.a)().t,o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(n.useState)(),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(n.useState)(Tt.CREATE),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(n.useState)([]),y=Object(s.a)(w,2),C=y[0],k=y[1],S=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt();case 2:(t=e.sent).data&&k(t.data.group);case 4:case"end":return e.stop()}}),e)}))),[]),I=Object(n.useMemo)((function(){return[{title:i("page.adminBiz.table.id"),dataIndex:"id",width:"80px"},{title:i("page.adminBiz.table.name"),dataIndex:"name",width:"150px",fixed:"left"},{title:i("page.adminBiz.table.comment"),dataIndex:"comment",width:"200px"},{title:i("page.adminBiz.table.isPublic"),width:"80px",render:function(e,t){return i("common.".concat(t.isPublic?"yes":"no"))}},{title:i("page.adminBiz.table.url"),dataIndex:"url"},{title:i("page.adminBiz.table.api"),dataIndex:"api"},{title:i("page.adminBiz.table.createdAt"),width:"200px",render:function(e,t){return ee()(t.createdAt).toDate().toLocaleString()}},{title:i("page.adminBiz.table.updatedAt"),width:"200px",render:function(e,t){return ee()(t.updatedAt).toDate().toLocaleString()}},{title:i("page.adminBiz.table.isOpen"),dataIndex:"isOpen",fixed:"right",width:"80px",render:function(e,t){return i("common.".concat(t.isOpen?"on":"off"))}}]}),[i]),T=Object(n.useCallback)((function(e){return{onClick:function(){m(e),x(Tt.MODIFY),d(!0)}}}),[]),A=Object(n.useCallback)((function(){m(void 0),x(Tt.CREATE),d(!0)}),[]);return Object(n.useEffect)((function(){S()}),[S]),Object(v.jsxs)("div",{children:[Object(v.jsx)(je.a,{scroll:{y:"50vh",x:1500},data:t,columns:I,loading:r,onRow:T,pagination:{total:a,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:A,children:i("common.new")}),e]})}}),Object(v.jsx)(Yt,{group:C,usage:O,visible:u,onClose:function(e){d(!1),e&&c(),e&&V.a.success(i("common.success"))},data:j})]})}function Ht(e){var t=Object(g.a)().t,a=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(n.useCallback)((function(e,t){r(Object(ge.a)(Object(ge.a)({},a),{},Object(Ee.a)({},e,t)))}),[a,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(Ne.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminBiz.filter.id")}),Object(v.jsx)(De.a,{onChange:function(e){i("id",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"name",children:t("page.adminBiz.filter.name")}),Object(v.jsx)(De.a,{onChange:function(e){i("name",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminBiz.filter.comment")}),Object(v.jsx)(De.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}function Vt(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(g.a)().t,i=Object(n.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!0),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(n.useState)(0),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Rt(a);case 3:(t=e.sent).data&&(u(t.data.biz),O(t.data.count)),j(!1);case 6:case"end":return e.stop()}}),e)}))),[a]);return Object(n.useEffect)((function(){x()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(re.a,{title:c("page.adminBiz.title"),bordered:!1,children:[Object(v.jsx)(Ht,{filter:a,setFilter:r,handleSearch:x}),Object(v.jsx)(_t,{total:h,data:l,loading:b,fetchData:x})]})})}!function(e){e.CREATE="create",e.MODIFY="modify"}(Ut||(Ut={}));var Wt=a(378),Kt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/abTest",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/abTest",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("/abTest/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.delete("/abTest/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=a(382);function Xt(e){var t=e.onClose,a=e.onDelete,n=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:n,children:c===Ut.MODIFY?i("common.update"):i("common.save")}),c===Ut.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:a,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var $t=Re.a.Item;function ea(e){var t=e.visible,a=e.onClose,r=e.data,c=e.usage,i=Re.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(n.useState)(!1),u=Object(s.a)(l,2),d=u[0],p=u[1],b=Object(g.a)().t,j=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),t=o.getFieldsValue(),c!==Ut.CREATE){e.next=9;break}return e.next=5,qt(t);case 5:e.sent.data&&a(!0),e.next=13;break;case 9:return e.next=11,Jt(r.id,t);case 11:e.sent.data&&a(!0);case 13:p(!1);case 14:case"end":return e.stop()}}),e)}))),[r,o,a,c]),m=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qt(r.id);case 2:e.sent.data&&a(!0),p(!1);case 5:case"end":return e.stop()}}),e)}))),[r,a]);return Object(n.useEffect)((function(){o.resetFields(),c===Ut.MODIFY&&o.setFieldsValue(r)}),[r,o,c]),Object(v.jsx)(ze.a,{visible:t,onCancel:function(){return a(!1)},className:"drawer",closable:!1,title:b("page.adminABTest.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)(Xt,{usage:c,loading:d,onClose:function(){return a(!1)},onDelete:m,onSubmit:j}),children:Object(v.jsxs)(Re.a,{form:o,className:"drawer-form",children:[Object(v.jsx)($t,{label:b("page.adminABTest.drawer.comment"),field:"comment",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.method"),field:"method",children:Object(v.jsxs)(Pe.a,{children:[Object(v.jsx)(Pe.a.Option,{value:"get",children:"GET"}),Object(v.jsx)(Pe.a.Option,{value:"post",children:"POST"}),Object(v.jsx)(Pe.a.Option,{value:"put",children:"PUT"}),Object(v.jsx)(Pe.a.Option,{value:"delete",children:"DELETE"})]})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.origin"),field:"origin",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.server"),field:"server",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.dest"),field:"dest",children:Object(v.jsx)(De.a,{})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.current"),field:"current",children:Object(v.jsx)(Zt.a,{min:0,max:100,suffix:"%"})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.increase"),field:"increase",children:Object(v.jsx)(Zt.a,{min:0,max:100,suffix:"%"})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.timeGap"),field:"timeGap",children:Object(v.jsx)(Zt.a,{min:0,suffix:b("common.hr")})}),Object(v.jsx)($t,{label:b("page.adminABTest.drawer.suspend"),field:"suspend",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:b("common.yes"),uncheckedText:b("common.no")})})]})})}var ta=a(159),aa=a.n(ta);function na(e){var t=e.data,a=e.total,r=e.loading,c=e.fetchData,i=Object(g.a)().t,o=Object(n.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(n.useState)(),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(n.useState)(Ut.CREATE),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(n.useMemo)((function(){return[{title:i("page.adminABTest.table.id"),dataIndex:"id",width:"80px"},{title:i("page.adminABTest.table.origin"),width:"250px",fixed:"left",render:function(e,t,a){return Object(v.jsx)("div",{className:"".concat(t.suspend?aa.a["suspend-test"]:aa.a["under-test"]),children:t.origin})}},{title:i("page.adminABTest.table.server"),dataIndex:"server",width:"200px"},{title:i("page.adminABTest.table.dest"),dataIndex:"dest",width:"250px"},{title:i("page.adminABTest.table.comment"),dataIndex:"comment"},{title:i("page.adminABTest.table.current"),render:function(e,t){return Object(v.jsx)(Wt.a,{percent:t.current,color:t.suspend?"#C9CDD4":"",formatText:function(e){return"".concat(e," / 100")}})},width:"150px"},{title:i("page.adminABTest.table.increase"),render:function(e,t){return Object(v.jsx)(v.Fragment,{children:t.increase+"%"})},width:"150px"},{title:i("page.adminABTest.table.timeGap"),dataIndex:"timeGap",render:function(e,t){return Object(v.jsx)(v.Fragment,{children:t.timeGap+" "+i("common.hr")})},width:"150px"},{title:i("page.adminABTest.table.createdAt"),width:"200px",render:function(e,t){return ee()(t.createdAt).toDate().toLocaleString()}},{title:i("page.adminABTest.table.updatedAt"),width:"200px",render:function(e,t){return ee()(t.updatedAt).toDate().toLocaleString()}},{title:i("page.adminABTest.table.suspend"),dataIndex:"suspend",width:"100px",render:function(e,t){return i("common.".concat(t.suspend?"yes":"no"))}},{title:i("page.adminABTest.table.method"),dataIndex:"method",fixed:"right",width:"100px"}]}),[i]),y=Object(n.useCallback)((function(e){return{onClick:function(){m(e),x(Ut.MODIFY),d(!0)}}}),[]),C=Object(n.useCallback)((function(){m(void 0),x(Ut.CREATE),d(!0)}),[]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(je.a,{scroll:{y:"50vh",x:2e3},data:t,columns:w,loading:r,onRow:y,pagination:{total:a,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:C,children:i("common.new")}),e]})}}),Object(v.jsx)(ea,{usage:O,visible:u,onClose:function(e){d(!1),e&&c(),e&&V.a.success(i("common.success"))},data:j})]})}function ra(e){var t=Object(g.a)().t,a=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(n.useCallback)((function(e,t){r(Object(ge.a)(Object(ge.a)({},a),{},Object(Ee.a)({},e,t)))}),[a,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(Ne.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminABTest.filter.origin")}),Object(v.jsx)(De.a,{onChange:function(e){i("origin",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"name",children:t("page.adminABTest.filter.method")}),Object(v.jsx)(De.a,{onChange:function(e){i("method",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminABTest.filter.comment")}),Object(v.jsx)(De.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}function ca(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(g.a)().t,i=Object(n.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!0),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(n.useState)(0),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Kt(a);case 3:(t=e.sent).data&&(u(t.data.test),O(t.data.count)),j(!1);case 6:case"end":return e.stop()}}),e)}))),[a]);return Object(n.useEffect)((function(){x()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(re.a,{title:c("page.adminABTest.title"),bordered:!1,children:[Object(v.jsx)(ra,{filter:a,setFilter:r,handleSearch:x}),Object(v.jsx)(na,{total:h,data:l,loading:b,fetchData:x})]})})}var ia,sa=a(373),oa=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/system/cache/"+t,{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),la=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/system/info",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ua=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/system/reload",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.API="api",e.USER="user",e.BIZ="biz"}(ia||(ia={}));var da=a(375),pa=a(130),ba=a.n(pa),ja=function(e){var t=e.type,a=e.t,n=e.cache,r=e.children;return Object(v.jsx)("div",{className:ba.a["arco-card"],children:Object(v.jsx)(re.a,{title:a("page.adminOther.content.cache.".concat(t,".title")),style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:ba.a["cache-card"],children:[Object(v.jsx)(da.a,{title:a("page.adminOther.content.cache.".concat(t,".title")),value:ee()().diff(ee()(n[t].syncAt),"m"),suffix:a("page.adminOther.min")}),r]})})})};function ma(e){var t=Object(g.a)().t,a=e.sysInfo,r=e.loading,c=[ia.API,ia.USER,ia.BIZ],i=Object(n.useCallback)(function(){var e=Object(_.a)(Y.a.mark((function e(a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oa(a);case 2:"success"===e.sent.msg&&V.a.success(t("common.success"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(v.jsx)(ce.a,{loading:r,style:{display:"block"},children:Object(v.jsx)("div",{className:ba.a["card-wrapper"],children:a&&Object(v.jsx)(v.Fragment,{children:c.map((function(e){return Object(v.jsx)(ja,{type:e,t:t,cache:a.cache,children:Object(v.jsx)(R.a,{type:"primary",onClick:function(){return i(e)},children:t("page.adminOther.content.cache.refresh")})},e)}))})})})}function fa(e){var t=Object(g.a)().t;return Object(v.jsx)("div",{children:Object(v.jsx)(R.a,{type:"primary",onClick:function(){return X.a.warning({title:t("page.adminOther.content.cluster.title"),onOk:(e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua();case 2:"success"===e.sent.msg&&V.a.success(t("common.success"));case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});var e},children:t("page.adminOther.content.cluster.btn")})})}var ha=a(83),Oa=a.n(ha);function xa(e){var t=Object(g.a)().t,a=e.sysInfo,n=e.loading;return Object(v.jsx)("div",{children:Object(v.jsx)(ce.a,{loading:n,style:{display:"block"},children:a&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(re.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:Oa.a["item-card"],children:[Object(v.jsx)(da.a,{title:t("page.adminOther.content.sys.time"),value:ee()().diff(ee()(a.startedAt),"days"),suffix:t("page.adminOther.day"),countUp:!0}),Object(v.jsx)(da.a,{title:t("page.adminOther.content.sys.warn"),value:a.warn,countUp:!0,styleValue:{color:"#FF7D00"}}),Object(v.jsx)(da.a,{title:t("page.adminOther.content.sys.error"),value:a.error,countUp:!0,styleValue:{color:"#F53F3F"}})]})}),Object(v.jsx)(re.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:Oa.a["item-card"],children:[Object(v.jsx)(da.a,{title:t("page.adminOther.content.cache.api.total"),value:a.cache.api.total,countUp:!0}),Object(v.jsx)(da.a,{title:t("page.adminOther.content.cache.api.missed"),value:a.cache.api.missed,countUp:!0,styleValue:{color:"#FF7D00"}}),Object(v.jsx)(da.a,{title:t("page.adminOther.content.cache.api.hitRate"),value:(100*(a.cache.api.total-a.cache.api.missed)/a.cache.api.total).toFixed(2),suffix:"%",precision:2,countUp:!0})]})}),Object(v.jsx)(re.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:Oa.a["item-card"],children:[Object(v.jsx)(da.a,{title:t("page.adminOther.content.cache.biz.total"),value:a.cache.biz.total,countUp:!0}),Object(v.jsx)(da.a,{title:t("page.adminOther.content.cache.biz.missed"),value:a.cache.biz.missed,countUp:!0,styleValue:{color:"#FF7D00"}}),Object(v.jsx)(da.a,{title:t("page.adminOther.content.cache.biz.hitRate"),value:(100*(a.cache.biz.total-a.cache.biz.missed)/a.cache.biz.total).toFixed(2),suffix:"%",precision:2,countUp:!0})]})}),Object(v.jsx)(re.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:Oa.a["item-card"],children:[Object(v.jsx)(da.a,{title:t("page.adminOther.content.proxy.current"),value:a.proxyInfo.proxy,countUp:!0}),Object(v.jsx)("div",{children:Object(v.jsx)(da.a,{title:t("page.adminOther.content.proxy.warn"),value:a.proxyInfo.proxyWarn,countUp:!0,styleValue:{color:"#FF7D00"}})}),Object(v.jsx)(da.a,{styleValue:{color:"#F53F3F"},title:t("page.adminOther.content.proxy.error"),value:a.proxyInfo.proxyError,countUp:!0})]})}),Object(v.jsx)(re.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:Oa.a["item-card"],children:[Object(v.jsx)(da.a,{title:t("page.adminOther.content.abTest.current"),value:a.proxyInfo.test,countUp:!0}),Object(v.jsx)("div",{children:Object(v.jsx)(da.a,{title:t("page.adminOther.content.abTest.warn"),value:a.proxyInfo.testWarn,countUp:!0,styleValue:{color:"#FF7D00"}})}),Object(v.jsx)(da.a,{styleValue:{color:"#F53F3F"},title:t("page.adminOther.content.abTest.error"),value:a.proxyInfo.testError,countUp:!0})]})})]})})})}var ga=sa.a.TabPane;function va(){var e=Object(g.a)().t,t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useMemo)((function(){return[{id:"info",name:e("page.adminOther.tab.info.title")},{id:"cache",name:e("page.adminOther.tab.cache.title")},{id:"cluster",name:e("page.adminOther.tab.cluster.title")}]}),[e]),p=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,la();case 3:(t=e.sent).data&&u(t.data.info),c(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){p()}),[p]),Object(n.useEffect)((function(){var e=setInterval((function(){p()}),6e4);return function(){return clearInterval(e)}}),[p]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(re.a,{title:e("page.adminOther.title"),bordered:!1,style:{width:"100%"},children:Object(v.jsx)(sa.a,{style:{margin:-15},children:d.map((function(e){return Object(v.jsx)(ga,{destroyOnHide:!0,title:"".concat(e.name),children:Object(v.jsxs)("div",{style:{margin:"0px 16px 16px 16px"},children:["info"===e.id&&Object(v.jsx)(xa,{sysInfo:l,loading:r}),"cache"===e.id&&Object(v.jsx)(ma,{sysInfo:l,loading:r}),"cluster"===e.id&&Object(v.jsx)(fa,{})]})},e.id)}))})})})}var wa,ya,Ca=function(){var e=Object(_.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.post("/system/log",Object(ge.a)({},t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(wa||(wa={})),function(e){e.commonErr="commonErr",e.agent="agent",e.schedule="schedule",e.web="web",e.app="app",e.proxy="proxy"}(ya||(ya={}));var ka=a(370),Sa=ka.a.RangePicker;function Ia(e){var t=e.filter,a=e.setFilter,r=e.handleSearch,c=Object(g.a)().t,i=Object(n.useCallback)((function(e,n){a(Object(ge.a)(Object(ge.a)({},t),{},Object(Ee.a)({},e,n)))}),[t,a]);return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"input-wrapper",style:{width:"100%",marginBottom:10},children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.filter")}),Object(v.jsx)(De.a,{style:{width:"100%"},onChange:function(e){i("filter",e)}})]}),Object(v.jsxs)(Ne.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.type.title")}),Object(v.jsx)(Pe.a,{style:{width:200},triggerProps:{autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0,position:"bl"},value:t.type,onChange:function(e){return i("type",e)},children:Object.keys(ya).map((function(e){return Object(v.jsx)(Pe.a.Option,{value:e,children:c("page.adminLog.filter.type.".concat(e))},e)}))})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.level.title")}),Object(v.jsx)(Pe.a,{allowClear:!0,style:{width:200},triggerProps:{autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0,position:"bl"},value:t.level,onChange:function(e){return i("level",e)},children:Object.keys(wa).map((function(e){return Object(v.jsx)(Pe.a.Option,{value:e,children:c("page.adminLog.filter.level.".concat(e.toLocaleLowerCase()))},e)}))})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.date")}),Object(v.jsx)(Sa,{showTime:!0,disabledDate:function(e){if(t.date){var a=null==e?void 0:e.format("YYYY-MM-DD");return ee()(t.date).format("YYYY-MM-DD")!==a}return!ee()().endOf("day").isAfter(ee()(null==e?void 0:e.toDate()))},onOk:function(e){a(Object(ge.a)(Object(ge.a)({},t),{},{timeFrom:ee()(e[0]).format("YYYY-MM-DD HH:mm:ss"),timeTo:ee()(e[1]).format("YYYY-MM-DD HH:mm:ss")}))},onSelect:function(e){i("date",ee()(e[0]).format("YYYY-MM-DD"))},onClear:function(){a(Object(ge.a)(Object(ge.a)({},t),{},{timeFrom:void 0,timeTo:void 0,date:void 0}))}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:r,children:c("common.search")})]})]})}function Ta(e){var t=e.logs,a=e.loading,r=Object(n.useState)(100),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(g.a)().t,u=Object(n.useMemo)((function(){return[{title:l("page.adminLog.table.level"),dataIndex:"level",width:80},{title:l("page.adminLog.table.date"),width:180,render:function(e,t){return ee()(t.date).format("YYYY-MM-DD HH:mm:ss")}},{title:l("page.adminLog.table.message"),dataIndex:"message",width:800},{title:l("page.adminLog.table.hostname"),dataIndex:"hostname"},{title:l("page.adminLog.table.paddingMessage"),dataIndex:"paddingMessage"},{title:l("page.adminLog.table.pid"),dataIndex:"pid"}]}),[l]),d=Object(n.useCallback)((function(e){o(e.pageSize)}),[]);return Object(v.jsx)("div",{children:Object(v.jsx)(je.a,{scroll:{x:1500,y:"50vh"},onChange:d,pagination:{sizeCanChange:!0,showTotal:!0,pageSize:i,sizeOptions:[50,100,200,500,1e3]},columns:u,data:t,loading:a,renderPagination:function(e){return Object(v.jsx)("div",{style:{display:"flex",justifyContent:"end",marginTop:10},children:e})}})})}function Aa(){var e=Object(g.a)().t,t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({type:ya.web}),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Ca(l);case 3:(t=e.sent).data&&c(t.data.log),j(!1);case 6:case"end":return e.stop()}}),e)}))),[l]);return Object(n.useEffect)((function(){m()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(re.a,{title:e("page.adminLog.title"),bordered:!1,extra:Object(v.jsx)("div",{style:{fontSize:"1.25rem",cursor:"pointer"},children:Object(v.jsx)(ye.a,{style:{borderRadius:"5px"},content:e("page.adminLog.tip"),position:"left",trigger:"click",children:Object(v.jsx)(me.a,{})})}),children:[Object(v.jsx)(Ia,{filter:l,setFilter:u,handleSearch:m}),Object(v.jsx)(Ta,{logs:r,loading:b})]})})}var Ea,Na,Da=function(){var e=Object(_.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("/system/config",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fa=function(){var e=Object(_.a)(Y.a.mark((function e(t,a){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.put("/system/config",{key:t,value:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();!function(e){e.apiCache="apiCache",e.bizCache="bizCache",e.userCache="userCache",e.abTest="abTest",e.systemInfo="systemInfo",e.systemInfoCache="systemInfoCache",e.errorDetector="errorDetector"}(Ea||(Ea={})),function(e){e.errorEmail="errorEmail",e.accessKey="accessKey",e.scheduleInterval="scheduleInterval",e.systemErrorReport="systemErrorReport",e.proxyErrorReport="proxyErrorReport",e.abTestErrorReport="abTestErrorReport"}(Na||(Na={}));var Ra=a(214),za=Re.a.Item;function Pa(e){var t=Object(g.a)().t,a=e.configKey,r=e.config,c=e.onChange,i=Re.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,Fa(a,t);case 3:"success"===e.sent.msg&&(V.a.success("success"),c());case 5:case"end":return e.stop()}}),e)}))),[o,a,c]);return Object(n.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Re.a,{form:o,labelAlign:"left",layout:"vertical",children:[Object(v.jsx)(za,{label:t("page.adminSystem.errorEmail.user"),field:"user",children:Object(v.jsx)(De.a,{placeholder:"input user"})}),Object(v.jsx)(za,{label:t("page.adminSystem.errorEmail.password"),field:"password",children:Object(v.jsx)(De.a.Password,{placeholder:"input password"})}),Object(v.jsx)(za,{label:t("page.adminSystem.errorEmail.host"),field:"host",children:Object(v.jsx)(De.a,{placeholder:"input SMTP host"})}),Object(v.jsx)(za,{label:t("page.adminSystem.errorEmail.sender"),field:"sender",children:Object(v.jsx)(De.a,{placeholder:"input sender (in most cases is the same as user)"})}),Object(v.jsx)(za,{label:t("page.adminSystem.errorEmail.sendTo"),field:"sendTo",children:Object(v.jsx)(Ra.a,{placeholder:"input sendTo"})})]}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:l,children:t("common.update")})})]})}var Ma=a(211),Ga=a.n(Ma),Ba=a(368),Ua=Re.a.Item;function La(e){var t=Object(g.a)().t,a=e.configKey,r=e.config,c=e.onChange,i=Re.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(n.useState)(!1),u=Object(s.a)(l,2),d=u[0],p=u[1],b=Object(n.useState)(""),j=Object(s.a)(b,2),m=j[0],f=j[1],h=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,Fa(a,t);case 3:"success"===(n=e.sent).msg&&(V.a.success("success"),f(n.data.key),p(!0));case 5:case"end":return e.stop()}}),e)}))),[o,a]);return Object(n.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Re.a,{form:o,labelAlign:"left",layout:"vertical",children:[Object(v.jsx)(Ua,{label:"key",field:"key",children:Object(v.jsx)(De.a.Password,{disabled:!0,placeholder:"input password"})}),Object(v.jsx)(Ua,{label:t("page.adminSystem.accessKey.enable"),field:"enable",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:t("common.on"),uncheckedText:t("common.off")})})]}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:h,children:t("common.update")})}),Object(v.jsx)(X.a,{simple:!0,visible:d,okText:"Copy To Clipboard",cancelText:"Just Go Back",onOk:function(){Ga()(m),p(!1),c(),V.a.success("Copied to clipboard")},onCancel:function(){p(!1),c()},children:Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(v.jsx)(Ba.a,{closable:!0,type:"info",content:"Key Updated"}),Object(v.jsx)("p",{children:m})]})})]})}var Ya=Re.a.Item;function _a(e){var t=Object(g.a)().t,a=e.configKey,r=e.config,c=e.onChange,i=Re.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,Fa(a,t);case 3:"success"===e.sent.msg&&(V.a.success("success"),c());case 5:case"end":return e.stop()}}),e)}))),[o,a,c]);return Object(n.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(Re.a,{form:o,labelAlign:"right",layout:"vertical",children:[Object(v.jsx)(Ya,{label:t("page.adminSystem.errorReportBase.timeThreshold"),field:"timeThreshold",children:Object(v.jsx)(Zt.a,{suffix:t("common.min")})}),Object(v.jsx)(Ya,{label:t("page.adminSystem.errorReportBase.warnThreshold"),field:"warnThreshold",children:Object(v.jsx)(Zt.a,{suffix:"Records"})}),Object(v.jsx)(Ya,{label:t("page.adminSystem.errorReportBase.errorThreshold"),field:"errorThreshold",children:Object(v.jsx)(Zt.a,{suffix:"Records"})}),Object(v.jsx)(Ya,{label:t("page.adminSystem.errorReportBase.muteUntil"),field:"muteUntil",children:Object(v.jsx)(ka.a,{format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})}),Object(v.jsx)(Ya,{label:t("page.adminSystem.errorReportBase.enable"),field:"enable",triggerPropName:"checked",children:Object(v.jsx)(ot.a,{checkedText:t("common.on"),uncheckedText:t("common.off")})})]}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:l,children:t("common.update")})})]})}var Ha=a(131),Va=a.n(Ha),Wa=Re.a.Item;function Ka(e){var t=Object(g.a)().t,a=e.configKey,r=e.config,c=e.onChange,i=Re.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,Fa(a,t);case 3:"success"===e.sent.msg&&(V.a.success("success"),c());case 5:case"end":return e.stop()}}),e)}))),[o,a,c]);return Object(n.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Re.a,{form:o,labelAlign:"left",layout:"vertical",labelCol:{span:6},wrapperCol:{span:18},children:Object.keys(r).map((function(e){return Object(v.jsx)(Wa,{label:t("page.adminSystem.scheduleInterval.".concat(e)),style:{marginBottom:0},children:Object(v.jsxs)("div",{className:Va.a["schedule-input-wrapper"],children:[Object(v.jsx)(Wa,{field:"".concat(e,".interval"),className:Va.a["input-item"],children:Object(v.jsx)(De.a,{})}),Object(v.jsx)(Wa,{field:"".concat(e,".enable"),triggerPropName:"checked",className:Va.a["switch-item"],children:Object(v.jsx)(ot.a,{checkedText:t("common.on"),uncheckedText:t("common.off")})})]})})}))}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:l,children:t("common.update")})})]})}var qa=sa.a.TabPane;function Ja(){var e=Object(g.a)().t,t=Object(n.useState)(!0),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=function(){p()},p=Object(n.useCallback)(Object(_.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da();case 2:(t=e.sent).data&&u(t.data.config),c(!1);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(n.useEffect)((function(){p()}),[p]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(re.a,{title:e("page.adminSystem.title"),bordered:!1,style:{width:"100%"},children:Object(v.jsx)(ce.a,{loading:r,style:{display:"block",top:"30px"},children:Object(v.jsx)(sa.a,{style:{margin:-15},defaultActiveTab:Na.errorEmail,children:l&&l.map((function(t){var a={};switch(t.key){case Na.errorEmail:a=Object(v.jsx)(Pa,{configKey:t.key,config:t.value,onChange:d});break;case Na.accessKey:a=Object(v.jsx)(La,{configKey:t.key,config:t.value,onChange:d});break;case Na.proxyErrorReport:case Na.abTestErrorReport:case Na.systemErrorReport:a=Object(v.jsx)(_a,{configKey:t.key,config:t.value,onChange:d});break;case Na.scheduleInterval:a=Object(v.jsx)(Ka,{configKey:t.key,config:t.value,onChange:d});break;default:a=function(){return Object(v.jsx)("div",{children:"111"})}}return Object(v.jsx)(qa,{title:e("page.adminSystem.".concat(t.key,".title")),children:a},t.key)}))})})})})}function Qa(){var e=Object(j.h)();return Object(v.jsx)("div",{className:"".concat(E.a["main-wrapper"]," outter-card"),children:Object(v.jsx)(N.a,{children:Object(v.jsx)(D.a,{classNames:"fade",timeout:800,children:Object(v.jsx)("div",{className:E.a["safe-area"],children:Object(v.jsxs)(j.d,{location:e,children:[Object(v.jsx)(j.b,{exact:!0,path:"/login",children:Object(v.jsx)(P,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/auth",children:Object(v.jsx)(te,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/info",children:Object(v.jsx)(pe,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/log",children:Object(v.jsx)(he,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/service",children:Object(v.jsx)(Ae,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/user",children:Object(v.jsx)($e,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/api",children:Object(v.jsx)(wt,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/group",children:Object(v.jsx)(Ft,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/biz",children:Object(v.jsx)(Vt,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/abTest",children:Object(v.jsx)(ca,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/system",children:Object(v.jsx)(Ja,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/other",children:Object(v.jsx)(va,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/log",children:Object(v.jsx)(Aa,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/",children:Object(v.jsx)(j.a,{to:"/info"})}),Object(v.jsx)(j.b,{path:"*",children:Object(v.jsx)(z,{})})]})})},e.pathname)})})}a(349);var Za=a(5),Xa=a(160),$a=a(108),en=function(e){return"zh-CN"===e?$a.a:Xa.a},tn={Button:{shape:"round"},Table:{border:!1}};var an=function(){var e=Object(n.useReducer)(h,!1),t=Object(s.a)(e,2),a={state:t[0],dispatch:t[1]},r=Object(n.useReducer)(x,"zh-CN"),c=Object(s.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){o(localStorage.getItem("language")||"en-US")}),[]);var l=Object(n.useCallback)((function(e){"dark"===e&&document.body.setAttribute("arco-theme","dark"),"normal"===e&&document.body.removeAttribute("arco-theme")}),[]);Object(n.useEffect)((function(){window.matchMedia("(prefers-color-scheme: dark)").matches&&l("dark"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){return l(e.matches?"dark":"normal")})),window.removeEventListener("change",(function(){}))}),[l]);var u={language:i,dispatchLanguage:o};return Object(v.jsx)(Za.b,{locale:en(i),componentConfig:tn,children:Object(v.jsx)("div",{className:"view",children:Object(v.jsx)(f.Provider,{value:a,children:Object(v.jsxs)(O.Provider,{value:u,children:[Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)("div",{className:"nav",children:Object(v.jsx)(k,{})}),Object(v.jsx)("div",{className:"main",children:Object(v.jsx)(Qa,{})})]}),Object(v.jsx)("div",{className:"footer",children:Object(v.jsx)(T,{info:"Niko Gateway"})})]})})})})},nn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,383)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))},rn=(a(350),a(351),a(162)),cn=a(96),sn={nav:{info:"Info",log:"Log",service:"Service",btnConfig:"Admin Config",btnMore:"More",api:"API",abTest:"AB Test",user:"User Config",group:"Group Config",biz:"Micro Service",other:"Other",sysLog:"System Log",system:"System Config"},page:{info:{title:"User Info",staffName:"Staff Name",staffId:"Staff ID",tokenExp:"Auth Exp",userGroup:"User Group"},login:{toAuth:"redirecting to authorization gateway..."},auth:{check:"checking your ticket...",noTicket:"ticket not found",trust:"Do you trust this browser?"},userLog:{title:"Authorization Log",tip:"show only the last 10 records",table:{id:"User ID",service:"Service You Authorized For",device:"Operation Device",time:"Authorization Time"}},service:{title:"All APP",closed:"Closed",tipClosed:"this app is not open yet"},notFound:{desc:"Sorry, Page Not Found",back:"Back"},adminUser:{title:"User Management",table:{id:"ID",staffName:"Staff Name",staffId:"Staff ID"},search:{id:"ID",staffName:"Staff Name",staffId:"Staff ID",btn:"Search"},drawer:{title:"User Config",group:"User Group"},popUp:{title:"Add Multiple Users To Groups",btn:"Muti Add"}},adminApi:{title:"API Config",table:{id:"ID",comment:"Comment",origin:"Gateway Router",server:"Server",dest:"Server Router",allowGroup:"Accessable Groups",createdAt:"Created At",updatedAt:"Updated At",method:"Request Method",switch:"Status",abTest:"AB Test",isPublic:"Public API"},filter:{id:"ID",comment:"Comment",origin:"Gateway Router",server:"Server",dest:"Server Router",method:"Request Method"},drawer:{modify:"Modify Config",create:"Create Config",comment:"Comment",router:"Gateway Router",server:"Server",dest:"Server Router",method:"Request Method",allowGroup:"Accessable Groups",abTest:"AB Test",switch:"Status",isPublic:"Public API",customHeader:"Custom Header",customHeaderBtn:"Config Header"},drawer2:{title:"Custom Header",key:"Key",value:"Value"}},adminGroup:{title:"Group Config",table:{id:"ID",name:"Group Name",comment:"Comment",default:"Default Group",createdAt:"Created At",updatedAt:"Updated At"},filter:{id:"ID",name:"Group Name",comment:"Comment"},drawer:{name:"Group Name",comment:"Comment",default:"Default Group",modify:"Modify Config",create:"Create Config"}},adminBiz:{title:"Micro Service Config",table:{id:"ID",name:"Name",comment:"Description",url:"URL",api:"API Server",allowGroup:"Allow Group",isOpen:"Status",createdAt:"Created At",updatedAt:"updated At",isPublic:"Public Service"},filter:{id:"ID",name:"Name",comment:"Description"},drawer:{title:"Micro Service Config",name:"Name",comment:"Description",url:"URL",api:"API Server",allowGroup:"Accessable Group",isOpen:"Status",modify:"Modify Config",create:"Create Config",isPublic:"Public Service"}},adminABTest:{title:"AB Test Config",table:{id:"ID",method:"Request Method",origin:"Gateway Router",suspend:"Suspend",increase:"Increase Ratio",current:"Current Ratio",timeGap:"Increase Time Gap",createdAt:"Created At",updatedAt:"Updated At",comment:"Comment",server:"Server",dest:"Server Router"},filter:{id:"ID",origin:"Reques Router",method:"Request Method",comment:"Comment"},drawer:{modify:"Modify Config",create:"Create Config",comment:"Comment",origin:"Gateway Router",server:"Server",dest:"Server Router",method:"Request Method",suspend:"Suspend",increase:"Increase Ratio",current:"Current Ratio",timeGap:"Increase Time Gap"}},adminOther:{title:"Other Config",day:"day(s) before",min:"min(s) before",tab:{cache:{title:"Cache Config"},cluster:{title:"Cluster Config"},info:{title:"System Info"}},content:{cache:{biz:{title:"Micro Service Cache",total:"Biz Total Req",missed:"Biz Cache Missed",syncAt:"Sync Time",hitRate:"Hit Rate"},api:{title:"API Cache",total:"API Total Req",missed:"API Cache Missed",syncAt:"Sync Time",hitRate:"Hit Rate"},user:{title:"User Info Cache",syncAt:"Sync Time"},refresh:"Refresh"},abTest:{current:"AB Test Total",warn:"AB Test Biz Err",error:"AB Test Server Err"},proxy:{current:"Proxy Total",warn:"Proxy Biz Err",error:"Proxy Server Err"},sys:{time:"System Started",warn:"System Warning",error:"System Error"},cluster:{btn:"Reload Worker",title:"Are You Sure To Reload Worker?"}}},adminLog:{title:"System Log",tip:"支持用逻辑标识构建语句，必须以「AND」「OR」「NOT」开头，参数和标识之间用空格隔开，参数可以带有空格。eg：「AND socket is closed NOT ClusterClient:Watcher」",table:{level:"Level",message:"Message",date:"Date",hostname:"Hostname",paddingMessage:"paddingMessage",pid:"PID"},filter:{filter:"Filter",date:"Log Date",timeFrom:"Time From",timeTo:"Time To",level:{title:"Level",debug:"Debug",info:"Info",warn:"Warn",error:"Error"},type:{title:"Type",commonErr:"Common Error",agent:"Agent Process Log",schedule:"Schedule Execution Log",web:"Inner Web Log",app:"App Log",proxy:"Gateway Log"}}},adminSystem:{title:"System Config",errorEmail:{title:"Email Config For Error Report",user:"SMTP user",password:"SMTP pass",host:"SMTP host",sender:"Sender",sendTo:"SendTo"},accessKey:{title:"Inner API AccessKey",enable:"Enabled",key:"Key"},scheduleInterval:{title:"Schedule Works Interval",enable:"Enabled",interval:"Interval",abTest:"AB Test",apiCache:"API Cache",bizCache:"Micro Service Cache",errorDetector:"Error Detector",systemInfo:"System Info Sync",systemInfoCache:"System Info Cache",userCache:"User Info Cache"},errorReportBase:{enable:"Enabled",errorThreshold:"Error Threshold",warnThreshold:"Warn Threshold",timeThreshold:"Time Threshold",muteUntil:"Mute Email Until"},systemErrorReport:{title:"System Error Email Report"},proxyErrorReport:{title:"Proxy Error Email Report"},abTestErrorReport:{title:"AB Test Error Email Report"},createdAt:"Created At",udpatedAt:"Updated At",id:"ID"}},common:{confirm:"Confirm",cancel:"Cancel",search:"Search",on:"On",off:"Off",yes:"Yes",no:"No",save:"Save",update:"Update",delete:"Delete",success:"Success",error:"Operation Faild",new:"New",paramsError:"Params Error, Please check and try again",hr:"Hour(s)",min:"Minute(s)",sec:"Second(s)"}},on={nav:{info:"信息",log:"日志",service:"服务",btnConfig:"管理员设置",btnMore:"更多",api:"API",abTest:"灰度测试",user:"用户配置",group:"用户组",biz:"微服务配置",other:"其他",sysLog:"系统日志",system:"系统设置"},page:{info:{title:"用户信息",staffName:"用户名",staffId:"staffId",tokenExp:"凭据过期时间",userGroup:"用户组"},login:{toAuth:"正在跳转认证网关..."},auth:{check:"正在验证您的凭据...",noTicket:"未检测到凭据",trust:"是否信任该浏览器？"},userLog:{title:"用户登录日志",tip:"仅展示最近10次登录",table:{id:"用户ID",service:"授权服务",device:"用户设备",time:"授权时间"}},service:{title:"全部应用",closed:"未开放",tipClosed:"该应用暂未开放"},notFound:{desc:"抱歉，你访问的页面不存在",back:"返回"},adminUser:{title:"用户管理",table:{id:"ID",staffName:"用户名",staffId:"staffId"},search:{id:"ID",staffName:"用户名",staffId:"staffId",btn:"搜索"},drawer:{title:"用户设置",group:"用户所在组"},popUp:{title:"批量添加用户组",btn:"批量添加"}},adminApi:{title:"路由配置",table:{id:"ID",comment:"描述",origin:"网关路由",server:"目标服务器",dest:"服务器路由",allowGroup:"允许组",createdAt:"创建时间",updatedAt:"更新时间",method:"请求方法",switch:"状态",abTest:"灰度测试",isPublic:"开放式API"},filter:{id:"ID",comment:"描述",origin:"网关路由",server:"目标服务器",dest:"服务器路由",method:"请求方法"},drawer:{modify:"配置修改",create:"新增配置",comment:"描述",router:"网关路由",server:"目标服务器",dest:"服务器路由",method:"请求方法",allowGroup:"允许组",abTest:"灰度测试",switch:"状态",isPublic:"开放式API",customHeader:"自定义请求头",customHeaderBtn:"修改配置"},drawer2:{title:"请求头自定义（⚠️仅在转发时生效，配置可以被覆盖，value为空则转发时不带该头⚠️）",key:"Key",value:"Value"}},adminGroup:{title:"用户组配置",table:{id:"ID",name:"用户组名称",comment:"用户组描述",default:"默认用户组",createdAt:"创建时间",updatedAt:"更新时间"},filter:{id:"ID",name:"用户组名称",comment:"用户组描述"},drawer:{name:"用户组名称",comment:"用户组描述",default:"默认用户组",modify:"配置修改",create:"新增配置"}},adminBiz:{title:"微服务管理",table:{id:"ID",name:"名称",comment:"描述",url:"URL",api:"API 服务器",allowGroup:"允许组",isOpen:"启用状态",createdAt:"创建时间",updatedAt:"更新时间",isPublic:"开放式API"},filter:{id:"ID",name:"名称",comment:"描述"},drawer:{title:"微服务配置",name:"名称",comment:"描述",url:"URL",api:"API服务器",allowGroup:"允许组",isOpen:"启用状态",modify:"配置修改",create:"新增配置",isPublic:"开放式服务"}},adminABTest:{title:"灰度测试配置",table:{id:"ID",method:"请求方法",origin:"网关路由",suspend:"挂起",increase:"切流比率增加数",current:"当前切流比",timeGap:"切流增加时间差",createdAt:"创建时间",updatedAt:"更新时间",comment:"描述",server:"目标服务器",dest:"服务器路由"},filter:{id:"ID",origin:"网关路由",method:"请求方法",comment:"描述"},drawer:{modify:"配置修改",create:"新增配置",comment:"描述",origin:"网关路由",server:"目标服务器",dest:"服务器路由",method:"请求方法",increase:"切流比率增加数",current:"当前切流比",timeGap:"切流增加时间差",suspend:"是否挂起"}},adminOther:{title:"其他配置",day:"天前",min:"分钟前",tab:{cache:{title:"缓存配置"},cluster:{title:"集群配置"},info:{title:"系统信息"}},content:{cache:{biz:{title:"微服务缓存",total:"微服务请求总数",missed:"微服务未命中缓存",syncAt:"同步时间",hitRate:"命中率"},api:{title:"API缓存",total:"API请求总数",missed:"API未命中缓存",syncAt:"同步时间",hitRate:"命中率"},user:{title:"用户信息缓存",syncAt:"同步时间"},refresh:"刷新缓存"},abTest:{current:"灰度测试总数",warn:"灰度业务错误",error:"灰度服务器错误"},proxy:{current:"请求转发总数",warn:"请求转发错误",error:"请求转发服务器错误"},sys:{time:"系统启动时间",warn:"系统警告",error:"系统错误"},cluster:{btn:"重启Worker",title:"确定没手滑？"}}},adminLog:{title:"系统日志",tip:"支持用逻辑标识构建语句，必须以「AND」「OR」「NOT」开头，参数和标识之间用空格隔开，参数可以带有空格。eg：「AND socket is closed NOT ClusterClient:Watcher」",table:{level:"级别",message:"消息",date:"日期",hostname:"主机名",paddingMessage:"填充消息",pid:"进程号"},filter:{filter:"筛选",date:"日志日期",timeFrom:"开始时间",timeTo:"结束时间",level:{title:"级别",debug:"调试",info:"信息",warn:"警告",error:"错误"},type:{title:"日志类型",commonErr:"通用错误",agent:"Agent进程日志",schedule:"定时任务日志",web:"内部网络连接日志",app:"应用日志",proxy:"网关代理日志"}}},adminSystem:{title:"系统设置",errorEmail:{title:"邮箱设置",user:"SMTP 用户名",password:"SMTP 密码",host:"SMTP 服务器",sender:"发送者",sendTo:"通知接收邮箱"},accessKey:{title:"内部API AccessKey",enable:"启用",key:"密钥"},scheduleInterval:{title:"定时任务配置",enable:"启用",interval:"执行间隔",abTest:"灰度配置缓存刷新",apiCache:"API 缓存刷新",bizCache:"微服务缓存刷新",errorDetector:"错误监测",systemInfo:"系统信息同步",systemInfoCache:"系统信息缓存刷新",userCache:"用户信息缓存刷新"},errorReportBase:{enable:"启用",errorThreshold:"错误信息阈值",warnThreshold:"警告信息阈值",timeThreshold:"阈值时间周期",muteUntil:"禁用邮件通知"},systemErrorReport:{title:"系统错误报告"},proxyErrorReport:{title:"微服代理务错误报告"},abTestErrorReport:{title:"灰度错误报告"},createdAt:"创建时间",udpatedAt:"修改时间",id:"ID"}},common:{confirm:"确认",cancel:"取消",search:"搜索",on:"开启",off:"关闭",yes:"是",no:"否",save:"保存",update:"更新",delete:"删除",success:"操作成功",error:"操作失败",new:"新增",paramsError:"请检查参数再试",hr:"小时",min:"分钟",sec:"秒"}},ln=(a(352),{"zh-CN":{translation:on},en:{translation:sn}});rn.a.use(cn.e).init({resources:ln,lng:localStorage.getItem("language")||"en-US",ns:["translation"],interpolation:{escapeValue:!1}});rn.a;window.document.documentElement.lang="zh-CN",i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(m.a,{children:Object(v.jsx)(an,{})})}),document.getElementById("root")),nn()},83:function(e,t,a){var n=a(49),r=a(346);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};n(r,c);e.exports=r.locals||{}}},[[353,1,2]]]);