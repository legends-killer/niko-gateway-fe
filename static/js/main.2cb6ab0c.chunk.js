(this["webpackJsonpniko-gateway-fe"]=this["webpackJsonpniko-gateway-fe"]||[]).push([[0],{130:function(e,t,n){var a=n(49),r=n(344);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},131:function(e,t,n){var a=n(49),r=n(348);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},151:function(e,t,n){var a=n(49),r=n(224);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},153:function(e,t,n){var a=n(49),r=n(236);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},155:function(e,t,n){var a=n(49),r=n(238);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},156:function(e,t,n){var a=n(49),r=n(297);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},159:function(e,t,n){var a=n(49),r=n(343);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},198:function(e,t,n){var a=n(49),r=n(235);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},203:function(e,t,n){var a=n(49),r=n(341);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},204:function(e,t,n){var a=n(49),r=n(342);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},223:function(e,t,n){},224:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".mfGAp {\n  border-radius: 10px;\n  z-index: 100;\n  margin: 1vh 10px;\n  background-color: var(--color-bg-2);\n  overflow: hidden;\n}\n@media screen and (min-width: 768px) {\n  .mfGAp {\n    min-height: 450px;\n  }\n}\n@media screen and (max-width: 768px) {\n  .mfGAp {\n    height: 7vh;\n  }\n}\n@media screen and (min-width: 768px) {\n  .ybQPf {\n    width: 200px !important;\n    height: 91.5vh !important;\n  }\n}\n@media screen and (max-width: 768px) {\n  .ybQPf {\n    width: 100%;\n  }\n}\n",""]),r.locals={"nav-wrapper":"mfGAp","nav-menu":"ybQPf"},t.default=r},235:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".uaF4V {\n  color: var(--color-text-2);\n  height: 4.5vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n",""]),r.locals={"footer-wrapper":"uaF4V"},t.default=r},236:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".gGcyY {\n  color: var(--color-text-2);\n  margin: 1vh 0px;\n  margin-right: 10px;\n  position: relative;\n  overflow-x: hidden;\n}\n@media screen and (min-width: 768px) {\n  .gGcyY {\n    min-height: 450px;\n    height: 91.5vh;\n  }\n}\n@media screen and (max-width: 768px) {\n  .gGcyY {\n    margin-left: 10px;\n    height: calc(95vh - 10vh - 2vh - 1vh);\n  }\n}\n.gGcyY .xFwiI {\n  margin: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: row;\n  overflow: auto;\n  position: absolute;\n}\n@media screen and (min-width: 768px) {\n  .gGcyY .xFwiI {\n    width: calc(100vw - 200px - 50px - 10px);\n    height: calc(100vh - 2vh - 30px - 5vh);\n  }\n}\n@media screen and (max-width: 768px) {\n  .gGcyY .xFwiI {\n    width: calc(100vw - 10px - 20px - 20px);\n    height: calc(95vh - 2vh - 10vh - 1vh - 2vh);\n  }\n}\n",""]),r.locals={"main-wrapper":"gGcyY","safe-area":"xFwiI"},t.default=r},238:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,"._8WeIo {\n  color: rgb(var(--primary-6));\n}\n",""]),r.locals={active:"_8WeIo"},t.default=r},297:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".C36s\\+ .SqaSp {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  transition: all 0.1s;\n}\n.C36s\\+ .SqaSp:hover {\n  background-color: rgb(var(--gray-2));\n}\na,\na:link,\na:visited,\na:hover,\na:active {\n  text-decoration: none;\n  color: inherit;\n}\n",""]),r.locals={"card-with-icon-hover":"C36s+","icon-hover":"SqaSp"},t.default=r},341:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,"@media screen and (max-width: 768px) {\n  .a4f9i {\n    width: 100vw !important;\n  }\n}\n@media screen and (min-width: 768px) {\n  .a4f9i {\n    width: 40vw !important;\n    height: 90vh !important;\n    margin: 5vh auto;\n    border-radius: 10px 0 0 10px;\n  }\n}\n",""]),r.locals={drawer2:"a4f9i"},t.default=r},342:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".HGNmb {\n  color: rgb(var(--orange-6));\n}\n",""]),r.locals={"ab-test":"HGNmb"},t.default=r},343:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".btSYn {\n  color: rgb(var(--orange-6));\n}\n.A2NPG {\n  color: rgb(var(--green-6));\n}\n.qFfI6 {\n  color: rgb(var(--gray-6));\n}\n.gp3rz {\n  color: rgb(var(--red-6));\n}\n",""]),r.locals={"under-test":"btSYn","finish-test":"A2NPG","suspend-test":"qFfI6","error-test":"gp3rz"},t.default=r},344:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".WjR-U {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: end;\n}\n.WjR-U > div {\n  width: 50%;\n  overflow: hidden;\n}\n.lMYPU {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n@media screen and (max-width: 768px) {\n  .lMYPU .N5D9t {\n    width: 100% !important;\n  }\n}\n@media screen and (min-width: 768px) {\n  .lMYPU .N5D9t {\n    width: calc(50% - 20px) !important;\n  }\n}\n",""]),r.locals={"cache-card":"WjR-U","card-wrapper":"lMYPU","arco-card":"N5D9t"},t.default=r},346:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".KWx41 {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n.KWx41 > div {\n  width: 20%;\n  overflow: hidden;\n}\n",""]),r.locals={"item-card":"KWx41"},t.default=r},348:function(e,t,n){"use strict";n.r(t);var a=n(29),r=n.n(a)()(!1);r.push([e.i,".cSQCT {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n.cSQCT .WSmCj {\n  width: 85%;\n}\n@media screen and (max-width: 768px) {\n  .cSQCT .WSmCj {\n    width: 80%;\n  }\n}\n.cSQCT ._7JCbK {\n  width: 10%;\n}\n@media screen and (max-width: 768px) {\n  .cSQCT ._7JCbK {\n    width: 15%;\n  }\n}\n",""]),r.locals={"schedule-input-wrapper":"cSQCT","input-item":"WSmCj","switch-item":"_7JCbK"},t.default=r},349:function(e,t,n){},353:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),s=(n(223),n(7)),o=n(151),l=n.n(o),u=n(161),d=n(359),p=n(360),b=n(361),j=n(26),m=n(32),f=Object(a.createContext)({state:!1,dispatch:function(){}}),h=function(e,t){return t},O=Object(a.createContext)({language:"zh-CN",dispatchLanguage:function(){}}),x=function(e,t){return localStorage.setItem("language",t),t},g=n(380),v=n(1),w=u.a.Item,y=u.a.SubMenu,C={"/info":"0","/log":"1_0","/service":"1_1","/admin/api":"2_0","/admin/abTest":"2_1","/admin/user":"2_2","/admin/group":"2_3","/admin/biz":"2_4","/admin/log":"2_5","/admin/system":"2_6","/admin/other":"2_7"};function k(){var e=Object(g.a)().t,t=Object(j.h)(),n=Object(a.useContext)(f).state,r=Object(a.useState)(!1),c=Object(s.a)(r,2),i=c[0],o=c[1],h=Object(a.useState)(""),O=Object(s.a)(h,2),x=O[0],k=O[1];Object(a.useEffect)((function(){o(n||"1"===sessionStorage.getItem("admin"))}),[i,n]),Object(a.useEffect)((function(){var e=C[t.pathname];k(e)}),[t.pathname]);var S=Object(a.useState)({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}),I=Object(s.a)(S,2),T=I[0],A=I[1],E=Object(a.useCallback)((function(){A({width:document.documentElement.clientWidth,height:document.documentElement.clientHeight})}),[]);return Object(a.useEffect)((function(){return window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}),[E]),Object(v.jsx)("div",{className:"".concat(l.a["nav-wrapper"]," outter-card"),children:Object(v.jsxs)(u.a,{mode:T.width>768?"vertical":"horizontal",className:l.a["nav-menu"],defaultOpenKeys:["1","2"],defaultSelectedKeys:[x],selectedKeys:[x],children:[Object(v.jsx)(m.b,{to:"/info",children:Object(v.jsxs)(w,{children:[Object(v.jsx)(d.a,{}),e("nav.info")]},"0")}),Object(v.jsxs)(y,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{}),e("nav.btnMore")]}),children:[Object(v.jsx)(m.b,{to:"/log",children:Object(v.jsx)(w,{children:e("nav.log")},"1_0")}),Object(v.jsx)(m.b,{to:"/service",children:Object(v.jsx)(w,{children:e("nav.service")},"1_1")})]},"1"),i&&Object(v.jsxs)(y,{title:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{})," ",e("nav.btnConfig")]}),children:[Object(v.jsx)(m.b,{to:"/admin/api",children:Object(v.jsx)(w,{children:e("nav.api")},"2_0")}),Object(v.jsx)(m.b,{to:"/admin/abTest",children:Object(v.jsx)(w,{children:e("nav.abTest")},"2_1")}),Object(v.jsx)(m.b,{to:"/admin/user",children:Object(v.jsx)(w,{children:e("nav.user")},"2_2")}),Object(v.jsx)(m.b,{to:"/admin/group",children:Object(v.jsx)(w,{children:e("nav.group")},"2_3")}),Object(v.jsx)(m.b,{to:"/admin/biz",children:Object(v.jsx)(w,{children:e("nav.biz")},"2_4")}),Object(v.jsx)(m.b,{to:"/admin/log",children:Object(v.jsx)(w,{children:e("nav.sysLog")},"2_5")}),Object(v.jsx)(m.b,{to:"/admin/system",children:Object(v.jsx)(w,{children:e("nav.system")},"2_6")}),Object(v.jsx)(m.b,{to:"/admin/other",children:Object(v.jsx)(w,{children:e("nav.other")},"2_7")})]},"2")]})})}var S=n(198),I=n.n(S);function T(e){var t=e.info;return Object(v.jsx)("div",{className:"".concat(I.a["footer-wrapper"]," outter-card"),children:"".concat((new Date).getFullYear()," ©️").concat(t)})}var A=n(153),E=n.n(A),N=n(354),D=n(132),F=n(376),R=n(27);function z(){var e=Object(g.a)().t,t=Object(j.g)(),n=Object(a.useCallback)((function(){t.goBack()}),[t]);return Object(v.jsx)("div",{children:Object(v.jsx)(F.a,{status:"404",subTitle:e("page.notFound.desc"),extra:[Object(v.jsx)(R.a,{type:"primary",onClick:n,children:e("page.notFound.back")},"back")]})})}var P,M,G,B,U=n(4),L=n.n(U),Y=n(6),_=function(e){(e=e||{}).method=e.method.toUpperCase()||"POST",e.url=e.url||"",e.async=e.async||!0,e.data=e.data||null,e.success=e.success||function(){};var t=new XMLHttpRequest;return new Promise((function(n,a){if("POST"===e.method.toUpperCase()||"PUT"===e.method.toUpperCase())t.open(e.method,e.url,e.async),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.setRequestHeader("Authorization",sessionStorage.getItem("token")||localStorage.getItem("token")),t.send(JSON.stringify(e.data)),t.onreadystatechange=function(){4===t.readyState&&n(t.responseText)};else if("GET"===e.method.toUpperCase()||"DELETE"===e.method.toUpperCase()){var r=[];for(var c in e.data)r.push(c+"="+e.data[c]);var i=r.join("&");t.open(e.method,e.url+"?"+i,e.async),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.setRequestHeader("Authorization",sessionStorage.getItem("token")||localStorage.getItem("token")),t.send(null),t.onreadystatechange=function(){4===t.readyState&&n(t.responseText)}}}))},H=n(192),V=n(71).throttle((function(e){e?H.a.error(e):H.a.error("网络错误")}),1e3,{leading:!0,trailing:!1}),W=function(){var e=Object(Y.a)(L.a.mark((function e(t,n,a){var r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.niko-gateway.top:7003"+t,e.next=3,_({method:n,url:t,data:a});case 3:if(r=e.sent){e.next=7;break}return V(),e.abrupt("return",{});case 7:return 0!==(c=JSON.parse(r||"{}")).error&&(40104!==c.code&&40101!==c.code||(window.location.href="/login"),42200===c.code?V("参数错误"):V(c.error||"未知错误")),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),K={get:(B=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"get",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return B.apply(this,arguments)}),post:(G=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"post",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return G.apply(this,arguments)}),put:(M=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"put",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return M.apply(this,arguments)}),delete:(P=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t,"delete",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e,t){return P.apply(this,arguments)})},q=K,J=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/info/checkToken",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/info/biz",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Z(){var e,t=Object(g.a)().t,n=(e=Object(j.h)().search,Object(a.useMemo)((function(){return new URLSearchParams(e)}),[e])).get("service"),r=Object(j.g)(),c=function(){var e=Object(Y.a)(L.a.mark((function e(){var t,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:if(a=e.sent,r=null===(t=a.data)||void 0===t?void 0:t.biz.map((function(e){return e.url})),n){e.next=6;break}return e.abrupt("return",!1);case 6:if(!r||!r.includes(n)){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(Y.a)(L.a.mark((function e(){var t,a,i,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:if(a=e.sent,!(null===(t=a.data)||void 0===t?void 0:t.ok)){e.next=12;break}return i=sessionStorage.getItem("token")||localStorage.getItem("token"),e.next=7,c();case 7:(s=e.sent)&&(window.location.href=n+"".concat(i?"?token="+i:"")),!s&&r.push("/info"),e.next=13;break;case 12:window.location.href="https://github.com/login/oauth/authorize?client_id=bd29a9c2458c51142f68";case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){window.localStorage.removeItem("service"),n&&window.localStorage.setItem("service",n),i()}),[]),Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:Object(v.jsx)("p",{children:t("page.login.toAuth")})})}var X=n(154),$=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/auth?ticket=".concat(t,"&device=").concat(X.a.type+" "+X.a.os,"&service=").concat(localStorage.getItem("service")||""),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=n(374),te=n(18),ne=n.n(te);function ae(){var e,t=Object(g.a)().t,n=Object(a.useState)(!1),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(a.useRef)(""),l=Object(a.useRef)(""),u=(e=Object(j.h)().search,Object(a.useMemo)((function(){return new URLSearchParams(e)}),[e])),d=Object(j.g)(),p=Object(a.useCallback)((function(e,t){t?window.location.href=t+"".concat(e?"?token="+e:""):d.push("/info")}),[d]),b=Object(a.useCallback)((function(e,t){e&&localStorage.setItem("token",o.current),t&&localStorage.setItem("trust",ne()().add(7,"days").toString()),sessionStorage.setItem("token",o.current),localStorage.removeItem("service"),p(o.current,l.current)}),[l,o,p]),m=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var n,a,r,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.get("code")){e.next=4;break}return H.a.error(t("page.auth.noTicket")),e.abrupt("return");case 4:return e.next=6,$(n);case 6:a=e.sent,(null==(r=a.data)?void 0:r.accessToken)&&(c=ne()(localStorage.getItem("trust")).isAfter(ne()()),o.current=r.accessToken,l.current=r.redirectUrl,c?b(!0,!1):i(!0));case 9:case"end":return e.stop()}}),e)}))),[u,b,t]);return Object(a.useEffect)((function(){m()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:Object(v.jsx)("p",{children:t("page.auth.check")})}),Object(v.jsx)(ee.a,{simple:!0,visible:c,onOk:function(){return b(!0,!0)},onCancel:function(){return b(!1)},okText:t("common.yes"),cancelText:t("common.no"),children:t("page.auth.trust")})]})}var re=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/info",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/info/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=n(379),se=n(95),oe=n(363),le=n(362),ue=n(127),de=n(155),pe=n.n(de);function be(){var e=Object(a.useContext)(O).dispatchLanguage,t=Object(g.a)().i18n,n=Object(a.useMemo)((function(){var n=t.language;return Object(v.jsxs)(u.a,{children:[Object(v.jsx)(u.a.Item,{onClick:function(){t.changeLanguage("zh-CN"),e("zh-CN")},children:Object(v.jsx)("div",{className:"".concat("zh-CN"===n?pe.a.active:""),children:"简体中文"})},"1"),Object(v.jsx)(u.a.Item,{onClick:function(){t.changeLanguage("en"),e("en-US")},children:Object(v.jsx)("div",{className:"".concat("en"===n?pe.a.active:""),children:"English"})},"2")]})}),[t,t.language]);return Object(v.jsx)("div",{style:{fontSize:"1.25rem",cursor:"pointer"},children:Object(v.jsx)(ue.a,{droplist:n,position:"br",trigger:"click",children:Object(v.jsx)(le.a,{})})})}function je(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(a.useContext)(f).dispatch,d=Object(g.a)(),p=d.t,b=d.i18n,j=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t,n,a,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),ne.a.locale(b.language),e.next=4,re();case 4:return n=e.sent,a=n.data,e.next=8,ce();case 8:if(e.t2=t=e.sent.data,e.t1=null===e.t2,e.t1){e.next=12;break}e.t1=void 0===t;case 12:if(!e.t1){e.next=16;break}e.t3=void 0,e.next=17;break;case 16:e.t3=t.groupMap;case 17:if(e.t0=e.t3,e.t0){e.next=20;break}e.t0=[];case 20:c=e.t0,a&&(r([{label:p("page.info.staffName"),value:a.staffName},{label:p("page.info.staffId"),value:a.staffId},{label:p("page.info.tokenExp"),value:ne()(a.accessTokenExp).fromNow()},{label:p("page.info.userGroup"),value:c.map((function(e){return e.name})).join(" | ")}]),c.find((function(e){return 1===e.id}))&&(u(!0),sessionStorage.setItem("admin","1"))),l(!1);case 23:case"end":return e.stop()}}),e)}))),[u,b.language,p]);return Object(a.useEffect)((function(){j()}),[j]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(ie.a,{title:p("page.info.title"),bordered:!1,extra:Object(v.jsx)(be,{}),children:Object(v.jsx)(se.a,{loading:o,style:{display:"block"},children:Object(v.jsx)(oe.a,{colon:" :",data:n,layout:"inline-horizontal",size:"large"})})})})}var me=n(43),fe=n(369),he=n(364),Oe=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/info/log",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function xe(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(g.a)(),d=u.t,p=u.i18n,b=Object(a.useMemo)((function(){return[{title:d("page.userLog.table.id"),dataIndex:"userId"},{title:d("page.userLog.table.service"),render:function(e,t){return t.service||"Niko-Gateway"}},{title:d("page.userLog.table.device"),dataIndex:"device"},{title:d("page.userLog.table.time"),dataIndex:"createdAt",render:function(e,t,n){return ne.a.locale(p.language),Object(v.jsx)("span",{children:ne()(t.createdAt).calendar()})}}]}),[d,p]),j=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Oe();case 3:n=e.sent,(null===(t=n.data)||void 0===t?void 0:t.log)&&r(n.data.log),l(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){j()}),[j]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(ie.a,{title:d("page.userLog.title"),bordered:!1,bodyStyle:{padding:0,paddingTop:10},extra:Object(v.jsx)("div",{style:{fontSize:"1.25rem",cursor:"pointer"},children:Object(v.jsx)(me.a,{mini:!0,content:d("page.userLog.tip"),position:"left",trigger:"click",children:Object(v.jsx)(he.a,{})})}),children:Object(v.jsx)(fe.a,{columns:b,border:!1,loading:o,data:n})})})}var ge=n(213),ve=n(21),we=n(377),ye=n(372),Ce=n(119),ke=n(365),Se=n(156),Ie=n.n(Se),Te=function(e){var t=e.biz,n=e.children,a=Object(g.a)().t;return Object(v.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(v.jsxs)("span",{style:{display:"flex",alignItems:"center",color:"#1D2129"},children:[Object(v.jsx)(we.a,{style:{marginRight:8,backgroundColor:"#165DFF"},size:28,children:t.name.substr(0,1).toUpperCase()}),Object(v.jsx)(ye.a.Text,{children:"".concat(t.name," ").concat(t.isOpen?"":"(".concat(a("page.service.closed"),")"))})]}),n]})};function Ae(e){var t=e.biz,n=Object(g.a)().t;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Ce.a,{trigger:"hover",content:t.comment,position:"br",children:Object(v.jsx)(ie.a,{className:Ie.a["card-with-icon-hover"],hoverable:!0,style:{width:"49%",cursor:t.isOpen?"pointer":"",marginBottom:"1%"},onClick:function(){t.isOpen?window.location.href="".concat(t.url):H.a.warning(n("page.service.tipClosed"))},children:Object(v.jsx)("a",{href:t.url,children:Object(v.jsx)(Te,{biz:Object(ve.a)({},t),children:Object(v.jsx)("span",{className:Ie.a["icon-hover"],children:Object(v.jsx)(ke.a,{})})})})})})})}function Ee(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(s.a)(c,2),o=i[0],l=i[1],u=Object(g.a)().t,d=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Q();case 3:(t=e.sent).data&&r(t.data.biz),l(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){d()}),[d]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(se.a,{loading:o,style:{display:"block"},children:Object(v.jsx)(ie.a,{title:u("page.service.title"),bordered:!1,bodyStyle:{padding:0,paddingTop:10,display:"flex",flexWrap:"wrap",flexDirection:"row",justifyContent:"space-between"},children:n.length>0?n.map((function(e){return Object(v.jsx)(Ae,{biz:e},e.id)})):Object(v.jsx)(ge.a,{})})})})}var Ne=n(37),De=n(366),Fe=n(82);function Re(e){var t=Object(g.a)().t,n=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(a.useCallback)((function(e,t){r(Object(ve.a)(Object(ve.a)({},n),{},Object(Ne.a)({},e,t)))}),[n,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(De.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminUser.search.id")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("id",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminUser.search.staffName")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("staffName",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminUser.search.staffId")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("staffId",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("page.adminUser.search.btn")})]})})}var ze=n(371),Pe=n(367),Me=n(163);function Ge(e){var t=e.onClose,n=e.onSubmit,a=e.loading,r=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:a,type:"primary",onClick:n,children:r("common.update")}),Object(v.jsx)(R.a,{loading:a,type:"secondary",onClick:t,children:r("common.cancel")})]})}var Be=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/user",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/userGroupMap",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/userGroupMap",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.delete("/userGroupMap/1",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=ze.a.Item,Ve=function(e,t){var n=new Set(e),a=new Set(t);return[t.filter((function(e){return!n.has(e)})),e.filter((function(e){return!a.has(e)}))]};function We(e){var t=Object(g.a)().t,n=e.group,r=e.visible,c=e.onClose,i=e.data,o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=ze.a.useForm(),b=Object(s.a)(p,1)[0],j=Object(a.useState)(),m=Object(s.a)(j,2),f=m[0],h=m[1],O=Object(a.useState)(),x=Object(s.a)(O,2),w=x[0],y=x[1],C=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t,n,a,r,o,l,u,p,j;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),t=b.getFieldsValue(),n=t.groupId,a=Ve(f||[],n),r=Object(s.a)(a,2),o=r[0],l=r[1],u=!0,!o.length){e.next=11;break}return p=o.map((function(e){return{userId:Number(i.id),groupId:e}})),e.next=9,Le({map:p});case 9:"success"!==e.sent.msg&&(u=!1);case 11:if(!l.length){e.next=18;break}return j=[],w.forEach((function(e){l.includes(Number(e.groupId))&&j.push(e.id)})),e.next=16,_e({id:j.toString()});case 16:"success"!==e.sent.msg&&(u=!1);case 18:u&&c(!0),d(!1);case 20:case"end":return e.stop()}}),e)}))),[f,i,b,c,w]),k=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t,n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,Ye({userId:i.id});case 3:(t=e.sent).data&&(n=t.data.group.group,a=t.data.map.idMap,h(n.map((function(e){return e.id}))),y(a),b.setFieldsValue({groupId:n.map((function(e){return e.id}))})),d(!1);case 6:case"end":return e.stop()}}),e)}))),[i,b]);return Object(a.useEffect)((function(){i&&k()}),[i,k]),Object(v.jsx)("div",{children:Object(v.jsx)(Pe.a,{visible:r,onCancel:function(){return c(!1)},className:"drawer",closable:!1,title:t("page.adminUser.drawer.title"),footer:Object(v.jsx)(Ge,{loading:u,onClose:function(){return c(!1)},onSubmit:C}),children:Object(v.jsx)(ze.a,{form:b,className:"drawer-form",children:Object(v.jsx)(He,{label:t("page.adminUser.drawer.group"),field:"groupId",children:Object(v.jsx)(Me.a,{mode:"multiple",children:n.map((function(e){return Object(v.jsx)(Me.a.Option,{value:e.id,children:e.name},e.id)}))})})})})})}var Ke=n(158),qe=Me.a.Option;function Je(e){var t=Object(g.a)().t,n=e.users,r=e.groups,c=e.visible,i=e.onClose,o=Object(a.useState)([]),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(!1),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var a,r,c,s,o,l,d;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0),a=[],r=Object(Ke.a)(n);try{for(r.s();!(c=r.n()).done;){s=c.value,o=Object(Ke.a)(u);try{for(o.s();!(l=o.n()).done;)d=l.value,a.push({userId:Number(s),groupId:Number(d)})}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}if(a.length){e.next=8;break}return H.a.error(t("common.paramsError")),m(!1),e.abrupt("return");case 8:return e.next=10,Le({map:a});case 10:"success"===e.sent.msg&&i(!0),m(!1);case 13:case"end":return e.stop()}}),e)}))),[i,u,t,n]);return Object(v.jsx)(ee.a,{title:t("page.adminUser.popUp.title"),visible:c,onCancel:function(){return i(!1)},autoFocus:!1,focusLock:!0,footer:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(R.a,{onClick:function(){i(!1)},children:t("common.cancel")}),Object(v.jsx)(R.a,{loading:j,onClick:function(){f()},type:"primary",style:{marginLeft:12},children:t("common.save")})]}),children:Object(v.jsx)(Me.a,{defaultValue:[],mode:"multiple",onChange:function(e){d(e)},children:r.map((function(e){return Object(v.jsx)(qe,{value:e.id,children:e.name},e.id)}))})})}function Qe(e){var t=Object(g.a)().t,n=e.loading,r=e.data,c=e.total,i=e.paginate,o=e.onPageChange,l=e.fetchData,u=Object(a.useState)(),d=Object(s.a)(u,2),p=d[0],b=d[1],j=Object(a.useState)(!1),m=Object(s.a)(j,2),f=m[0],h=m[1],O=Object(a.useState)([]),x=Object(s.a)(O,2),w=x[0],y=x[1],C=Object(a.useState)([]),k=Object(s.a)(C,2),S=k[0],I=k[1],T=Object(a.useState)(!1),A=Object(s.a)(T,2),E=A[0],N=A[1],D=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:(t=e.sent).data&&y(t.data.group);case 4:case"end":return e.stop()}}),e)}))),[]),F=Object(a.useCallback)((function(e,t){return{onClick:function(){h(!0),b(e)}}}),[]),z=Object(a.useMemo)((function(){return[{title:t("page.adminUser.table.id"),dataIndex:"id",onCell:F},{title:t("page.adminUser.table.staffName"),dataIndex:"staffName",onCell:F},{title:t("page.adminUser.table.staffId"),dataIndex:"staffId",onCell:F}]}),[F,t]),P=Object(a.useCallback)((function(e){o(e)}),[o]);return Object(a.useEffect)((function(){D()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)(fe.a,{rowKey:"id",scroll:{y:"60vh"},data:r,columns:z,loading:n,pagination:{total:c,pageSize:i.current.ipp,current:i.current.page,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0,sizeOptions:[10,20,50,100,200,500,1e3]},rowSelection:{type:"checkbox",fixed:!0,selectedRowKeys:S,onChange:function(e){I(e)}},onChange:P,renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)("div",{children:S.length>0&&Object(v.jsx)(R.a,{type:"primary",size:"mini",onClick:function(){N(!0)},children:t("page.adminUser.popUp.btn")})}),e]})}}),Object(v.jsx)(Je,{visible:E,onClose:function(e){e&&l(),e&&H.a.success(t("common.success")),N(!1)},users:S,groups:w}),Object(v.jsx)(We,{group:w,visible:f,onClose:function(e){e&&l(),e&&H.a.success(t("common.success")),h(!1)},data:p})]})}var Ze,Xe,$e={page:1,ipp:10};function et(){var e=Object(g.a)().t,t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useRef)($e),o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(0),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(a.useState)([]),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=Object(ve.a)(Object(ve.a)({},r),i.current),e.next=4,Be(t);case 4:(n=e.sent).data&&(x(n.data.user),m(n.data.count)),d(!1);case 7:case"end":return e.stop()}}),e)}))),[r,i]),y=Object(a.useCallback)(function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current={page:t.current||1,ipp:t.pageSize||10},e.next=3,w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w]);return Object(a.useEffect)((function(){w()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(ie.a,{title:e("page.adminUser.title"),bordered:!1,children:[Object(v.jsx)(Re,{filter:r,setFilter:c,handleSearch:w}),Object(v.jsx)(Qe,{fetchData:w,total:j,data:O,loading:u,onPageChange:y,paginate:i})]})})}function tt(e){var t=Object(g.a)().t,n=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(a.useCallback)((function(e,t){r(Object(ve.a)(Object(ve.a)({},n),{},Object(Ne.a)({},e,t)))}),[n,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(De.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.comment")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.origin")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("origin",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.server")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("server",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.dest")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("dest",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminApi.filter.method")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("method",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}!function(e){e.POST="post",e.GET="get",e.PUT="put",e.DELETE="delete"}(Ze||(Ze={})),function(e){e.CREATE="create",e.MODIFY="modify"}(Xe||(Xe={}));var nt=n(200),at=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/request",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/request",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.put("/request/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),it=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.delete("/request/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/biz",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),lt=n(381);function ut(e){var t=e.onClose,n=e.onDelete,a=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:a,children:c===Xe.MODIFY?i("common.update"):i("common.save")}),c===Xe.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:n,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var dt=n(116),pt=n(80),bt=n(203),jt=n.n(bt);function mt(e){var t=Object(g.a)().t,n=e.visible,r=e.onClose,c=e.currentHeader,i=Object(a.useState)(),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(""),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(a.useState)(""),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(a.useState)(!1),w=Object(s.a)(x,2),y=w[0],C=w[1],k=Object(a.useCallback)((function(){r(l)}),[l,r]),S=Object(a.useCallback)((function(){r()}),[r]),I=Object(a.useCallback)((function(e,t,n){var a=JSON.parse(JSON.stringify(l));"del"===n?delete a[e]:(a[e]=t,j(""),O("")),u(Object(ve.a)({},a))}),[l]);return Object(a.useEffect)((function(){u(c)}),[c]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(Pe.a,{className:jt.a.drawer2,title:t("page.adminApi.drawer2.title"),visible:n,onOk:k,onCancel:S,children:[Object.keys(l||{}).map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(Fe.a.Group,{style:{height:"50px"},children:[Object(v.jsx)(Fe.a,{style:{width:"30%"},value:e,disabled:!0}),Object(v.jsx)(dt.a,{style:{color:"var(--color-text-1)"}}),Object(v.jsx)(Fe.a,{style:{width:"50%"},value:l[e],disabled:!0}),Object(v.jsx)(R.a,{type:"primary",icon:Object(v.jsx)(dt.a,{}),onClick:function(){I(e,"","del")}})]})})})),Object(v.jsxs)(Fe.a.Group,{style:{height:"50px"},children:[Object(v.jsx)(Fe.a,{placeholder:t("page.adminApi.drawer2.key"),error:y,style:{width:"30%"},value:b,onChange:function(e){e&&C(!1),j(e)}}),Object(v.jsx)(dt.a,{style:{color:"var(--color-text-1)"}}),Object(v.jsx)(Fe.a,{placeholder:t("page.adminApi.drawer2.value"),error:y,style:{width:"50%"},value:h,onChange:function(e){e&&C(!1),O(e)}}),Object(v.jsx)(R.a,{type:"primary",icon:Object(v.jsx)(pt.a,{}),onClick:function(){b?I(b,h,"add"):C(!0)}})]})]})})}var ft=ze.a.Item;function ht(e){var t=e.visible,n=e.onClose,r=e.data,c=e.usage,i=e.group,o=e.biz,l=ze.a.useForm(),u=Object(s.a)(l,1)[0],d=Object(a.useState)(!1),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(a.useState)(!1),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(g.a)().t,w=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),t=Object(ve.a)(Object(ve.a)({},u.getFieldsValue()),{},{customHeader:u.getFieldValue("customHeader")}),c!==Xe.CREATE){e.next=9;break}return e.next=5,rt(t);case 5:e.sent.data&&n(!0),e.next=13;break;case 9:return e.next=11,ct(r.id,t);case 11:e.sent.data&&n(!0);case 13:O(!1);case 14:case"end":return e.stop()}}),e)}))),[r,u,n,c]),y=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(r.id);case 2:e.sent.data&&n(!0),O(!1);case 5:case"end":return e.stop()}}),e)}))),[r,n]);return Object(a.useEffect)((function(){u.resetFields(),c===Xe.MODIFY?u.setFieldsValue(r):u.setFieldsValue({dest:"/",switch:!0,abTest:!1})}),[r,u,c,t]),Object(v.jsxs)(Pe.a,{visible:t,onCancel:function(){return n(!1)},className:"drawer",closable:!1,title:x("page.adminApi.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)(ut,{usage:c,loading:h,onClose:function(){return n(!1)},onDelete:y,onSubmit:w}),children:[Object(v.jsxs)(ze.a,{form:u,className:"drawer-form",children:[Object(v.jsx)(ft,{label:x("page.adminApi.drawer.comment"),field:"comment",children:Object(v.jsx)(Fe.a,{placeholder:"input comment for api config"})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.router"),field:"origin",children:Object(v.jsx)(Fe.a,{placeholder:"input router for api config"})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.method"),field:"method",children:Object(v.jsxs)(Me.a,{children:[Object(v.jsx)(Me.a.Option,{value:"get",children:"GET"}),Object(v.jsx)(Me.a.Option,{value:"post",children:"POST"}),Object(v.jsx)(Me.a.Option,{value:"put",children:"PUT"}),Object(v.jsx)(Me.a.Option,{value:"delete",children:"DELETE"})]})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.server"),field:"server",children:Object(v.jsx)(Me.a,{children:o.map((function(e){return Object(v.jsx)(Me.a.Option,{value:e.api,children:e.name+" "+e.api},e.id)}))})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.dest"),field:"dest",children:Object(v.jsx)(Fe.a,{placeholder:"input dest for api config"})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.switch"),field:"switch",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:x("common.on"),uncheckedText:x("common.off")})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.abTest"),field:"abTest",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:x("common.on"),uncheckedText:x("common.off")})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.isPublic"),field:"isPublic",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:x("common.on"),uncheckedText:x("common.off")})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.allowGroup"),field:"allowGroup",children:Object(v.jsx)(Me.a,{mode:"multiple",children:i.map((function(e){return Object(v.jsx)(Me.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(v.jsx)(ft,{label:x("page.adminApi.drawer.customHeader"),children:Object(v.jsx)(R.a,{type:"primary",onClick:function(){return j(!b)},children:x("page.adminApi.drawer.customHeaderBtn")})})]}),Object(v.jsx)(mt,{visible:b,onClose:function(e){u.setFieldValue("customHeader",e),j(!1)},currentHeader:(null==r?void 0:r.customHeader)||{}})]})}var Ot=n(204),xt=n.n(Ot);function gt(e){var t=Object(g.a)(),n=t.t,r=t.i18n,c=e.loading,i=e.data,o=e.total,l=e.paginate,u=e.onPageChange,d=e.fetchData,p=Object(a.useState)(!1),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(a.useState)(),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(a.useState)(Xe.CREATE),y=Object(s.a)(w,2),C=y[0],k=y[1],S=Object(a.useState)([]),I=Object(s.a)(S,2),T=I[0],A=I[1],E=Object(a.useState)([]),N=Object(s.a)(E,2),D=N[0],F=N[1],z=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st();case 2:(t=e.sent).data&&A(t.data.group);case 4:case"end":return e.stop()}}),e)}))),[]),P=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot();case 2:(t=e.sent).data&&F(t.data.biz);case 4:case"end":return e.stop()}}),e)}))),[]),M=Object(a.useMemo)((function(){return[{title:n("page.adminApi.table.comment"),dataIndex:"comment",width:"10%"},{title:n("page.adminApi.table.origin"),dataIndex:"origin",width:"15%",fixed:"left",render:function(e,t,n){return Object(v.jsx)("div",{className:"".concat(t.abTest?xt.a["ab-test"]:""," "),children:t.origin})}},{title:n("page.adminApi.table.server"),dataIndex:"server",width:"20%"},{title:n("page.adminApi.table.dest"),width:250,dataIndex:"dest"},{title:n("page.adminApi.table.allowGroup"),render:function(e,t,n){return Object(v.jsx)(v.Fragment,{children:t.allowGroup.map((function(e){var t;return Object(v.jsx)(nt.a,{checkable:!0,color:"arcoblue",defaultChecked:!0,checked:!0,style:{margin:"1px",borderRadius:"1em"},children:null===(t=T.find((function(t){return t.id===e})))||void 0===t?void 0:t.name})}))})}},{title:n("page.adminApi.table.switch"),width:"100px",render:function(e,t,a){return Object(v.jsx)("div",{children:t.switch?n("common.on"):n("common.off")})}},{title:n("page.adminApi.table.isPublic"),width:"100px",render:function(e,t,a){return Object(v.jsx)("div",{children:t.isPublic?n("common.yes"):n("common.no")})}},{title:n("page.adminApi.table.createdAt"),width:200,dataIndex:"createdAt",render:function(e,t,n){return ne.a.locale(r.language),Object(v.jsx)("div",{children:ne()(t.createdAt).toDate().toLocaleString()})}},{title:n("page.adminApi.table.updatedAt"),width:200,dataIndex:"updatedAt",render:function(e,t,n){return ne.a.locale(r.language),Object(v.jsx)("div",{children:ne()(t.updatedAt).toDate().toLocaleString()})}},{title:n("page.adminApi.table.method"),dataIndex:"method",width:80,fixed:"right"}]}),[T,r.language,n]),G=Object(a.useCallback)((function(e){u(e)}),[u]),B=Object(a.useCallback)((function(){x(void 0),k(Xe.CREATE),m(!0)}),[]),U=Object(a.useCallback)((function(e,t){return{onClick:function(){x(e),k(Xe.MODIFY),m(!0)}}}),[]);return Object(a.useEffect)((function(){z(),P()}),[z,P]),Object(v.jsxs)("div",{children:[Object(v.jsx)(fe.a,{scroll:{y:"50vh",x:2e3},data:i,columns:M,loading:c,onChange:G,onRow:U,pagination:{total:o,pageSize:l.current.ipp,current:l.current.page,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0,sizeOptions:[10,20,50,100,200,500,1e3]},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:B,children:n("common.new")}),e]})}}),Object(v.jsx)(ht,{group:T,biz:D,usage:C,visible:j,onClose:function(e){m(!1),e&&d(),e&&H.a.success(n("common.success"))},data:O})]})}var vt,wt={page:1,ipp:10};function yt(){var e=Object(g.a)().t,t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useRef)(wt),o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(0),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(a.useState)([]),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),t=Object(ve.a)(Object(ve.a)({},r),i.current),e.next=4,at(t);case 4:(n=e.sent).data&&(x(n.data.api),m(n.data.count)),d(!1);case 7:case"end":return e.stop()}}),e)}))),[r,i]),y=Object(a.useCallback)(function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current={page:t.current||1,ipp:t.pageSize||10},e.next=3,w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[w]);return Object(a.useEffect)((function(){w()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(ie.a,{title:e("page.adminApi.title"),bordered:!1,children:[Object(v.jsx)(tt,{filter:r,setFilter:c,handleSearch:w}),Object(v.jsx)(gt,{total:j,data:O,loading:u,onPageChange:y,paginate:i,fetchData:w})]})})}!function(e){e.CREATE="create",e.MODIFY="modify"}(vt||(vt={}));var Ct=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/group",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/group",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=function(){var e=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.put("/group/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),It=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.delete("/group/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Tt(e){var t=e.onClose,n=e.onDelete,a=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:a,children:c===vt.MODIFY?i("common.update"):i("common.save")}),c===vt.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:n,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var At,Et=ze.a.Item;function Nt(e){var t=e.visible,n=e.onClose,r=e.data,c=e.usage,i=ze.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],p=u[1],b=Object(g.a)().t,j=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),t=o.getFieldsValue(),c!==vt.CREATE){e.next=9;break}return e.next=5,kt(t);case 5:e.sent.data&&n(!0),e.next=13;break;case 9:return e.next=11,St(r.id,t);case 11:e.sent.data&&n(!0);case 13:p(!1);case 14:case"end":return e.stop()}}),e)}))),[r,o,n,c]),m=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It(r.id);case 2:e.sent.data&&n(!0),p(!1);case 5:case"end":return e.stop()}}),e)}))),[r,n]);return Object(a.useEffect)((function(){o.resetFields(),c===vt.MODIFY&&o.setFieldsValue(r)}),[r,o,c]),Object(v.jsx)(Pe.a,{visible:t,onCancel:function(){return n(!1)},className:"drawer",closable:!1,title:b("page.adminGroup.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)(Tt,{usage:c,loading:d,onClose:function(){return n(!1)},onDelete:m,onSubmit:j}),children:Object(v.jsxs)(ze.a,{form:o,className:"drawer-form",children:[Object(v.jsx)(Et,{label:b("page.adminGroup.drawer.name"),field:"name",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(Et,{label:b("page.adminGroup.drawer.comment"),field:"comment",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(Et,{label:b("page.adminGroup.drawer.default"),field:"default",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{})})]})})}function Dt(e){var t=e.data,n=e.total,r=e.loading,c=e.fetchData,i=Object(g.a)().t,o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(a.useState)(vt.CREATE),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(a.useMemo)((function(){return[{title:i("page.adminGroup.table.id"),dataIndex:"id",width:"80px"},{title:i("page.adminGroup.table.name"),dataIndex:"name"},{title:i("page.adminGroup.table.comment"),dataIndex:"comment"},{title:i("page.adminGroup.table.default"),dataIndex:"default",render:function(e,t){return i("common.".concat(t.default?"yes":"no"))}},{title:i("page.adminGroup.table.createdAt"),width:"200px",render:function(e,t){return ne()(t.createdAt).toDate().toLocaleString()}},{title:i("page.adminGroup.table.updatedAt"),width:"200px",render:function(e,t){return ne()(t.updatedAt).toDate().toLocaleString()}}]}),[i]),y=Object(a.useCallback)((function(e){return{onClick:function(){m(e),x(vt.MODIFY),d(!0)}}}),[]),C=Object(a.useCallback)((function(){m(void 0),x(vt.CREATE),d(!0)}),[]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(fe.a,{scroll:{y:"50vh"},data:t,columns:w,loading:r,onRow:y,pagination:{total:n,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:C,children:i("common.new")}),e]})}}),Object(v.jsx)(Nt,{usage:O,visible:u,onClose:function(e){d(!1),e&&c(),e&&H.a.success(i("common.success"))},data:j})]})}function Ft(e){var t=Object(g.a)().t,n=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(a.useCallback)((function(e,t){r(Object(ve.a)(Object(ve.a)({},n),{},Object(Ne.a)({},e,t)))}),[n,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(De.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminGroup.filter.id")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("id",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"name",children:t("page.adminGroup.filter.name")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("name",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminGroup.filter.comment")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}function Rt(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(g.a)().t,i=Object(a.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(!0),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(a.useState)(0),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Ct(n);case 3:(t=e.sent).data&&(u(t.data.group),O(t.data.count)),j(!1);case 6:case"end":return e.stop()}}),e)}))),[n]);return Object(a.useEffect)((function(){x()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(ie.a,{title:c("page.adminGroup.title"),bordered:!1,children:[Object(v.jsx)(Ft,{filter:n,setFilter:r,handleSearch:x}),Object(v.jsx)(Dt,{total:h,data:l,loading:b,fetchData:x})]})})}!function(e){e.CREATE="create",e.MODIFY="modify"}(At||(At={}));var zt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/biz",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/biz",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mt=function(){var e=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.put("/biz/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.delete("/biz/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/group",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ut(e){var t=e.onClose,n=e.onDelete,a=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:a,children:c===At.MODIFY?i("common.update"):i("common.save")}),c===At.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:n,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var Lt,Yt=ze.a.Item;function _t(e){var t=e.visible,n=e.onClose,r=e.data,c=e.usage,i=e.group,o=ze.a.useForm(),l=Object(s.a)(o,1)[0],u=Object(a.useState)(!1),d=Object(s.a)(u,2),p=d[0],b=d[1],j=Object(g.a)().t,m=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(!0),t=l.getFieldsValue(),c!==At.CREATE){e.next=9;break}return e.next=5,Pt(t);case 5:e.sent.data&&n(!0),e.next=13;break;case 9:return e.next=11,Mt(r.id,t);case 11:e.sent.data&&n(!0);case 13:b(!1);case 14:case"end":return e.stop()}}),e)}))),[r,l,n,c]),f=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt(r.id);case 2:e.sent.data&&n(!0),b(!1);case 5:case"end":return e.stop()}}),e)}))),[r,n]);return Object(a.useEffect)((function(){l.resetFields(),c===At.MODIFY&&l.setFieldsValue(r)}),[r,l,c]),Object(v.jsx)(Pe.a,{visible:t,onCancel:function(){return n(!1)},className:"drawer",closable:!1,title:j("page.adminBiz.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)(Ut,{usage:c,loading:p,onClose:function(){return n(!1)},onDelete:f,onSubmit:m}),children:Object(v.jsxs)(ze.a,{form:l,className:"drawer-form",children:[Object(v.jsx)(Yt,{label:j("page.adminBiz.drawer.name"),field:"name",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(Yt,{label:j("page.adminBiz.drawer.comment"),field:"comment",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(Yt,{label:j("page.adminBiz.drawer.url"),field:"url",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(Yt,{label:j("page.adminBiz.drawer.api"),field:"api",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(Yt,{label:j("page.adminBiz.drawer.allowGroup"),field:"allowGroup",children:Object(v.jsx)(Me.a,{mode:"multiple",children:i.map((function(e){return Object(v.jsx)(Me.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(v.jsx)(Yt,{label:j("page.adminBiz.drawer.isOpen"),field:"isOpen",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:j("common.on"),uncheckedText:j("common.off")})}),Object(v.jsx)(Yt,{label:j("page.adminBiz.drawer.isPublic"),field:"isPublic",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:j("common.on"),uncheckedText:j("common.off")})})]})})}function Ht(e){var t=e.data,n=e.total,r=e.loading,c=e.fetchData,i=Object(g.a)().t,o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(a.useState)(At.CREATE),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(a.useState)([]),y=Object(s.a)(w,2),C=y[0],k=y[1],S=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt();case 2:(t=e.sent).data&&k(t.data.group);case 4:case"end":return e.stop()}}),e)}))),[]),I=Object(a.useMemo)((function(){return[{title:i("page.adminBiz.table.id"),dataIndex:"id",width:"80px"},{title:i("page.adminBiz.table.name"),dataIndex:"name",width:"150px",fixed:"left"},{title:i("page.adminBiz.table.comment"),dataIndex:"comment",width:"200px"},{title:i("page.adminBiz.table.isPublic"),width:"80px",render:function(e,t){return i("common.".concat(t.isPublic?"yes":"no"))}},{title:i("page.adminBiz.table.url"),dataIndex:"url"},{title:i("page.adminBiz.table.api"),dataIndex:"api"},{title:i("page.adminBiz.table.createdAt"),width:"200px",render:function(e,t){return ne()(t.createdAt).toDate().toLocaleString()}},{title:i("page.adminBiz.table.updatedAt"),width:"200px",render:function(e,t){return ne()(t.updatedAt).toDate().toLocaleString()}},{title:i("page.adminBiz.table.isOpen"),dataIndex:"isOpen",fixed:"right",width:"80px",render:function(e,t){return i("common.".concat(t.isOpen?"on":"off"))}}]}),[i]),T=Object(a.useCallback)((function(e){return{onClick:function(){m(e),x(At.MODIFY),d(!0)}}}),[]),A=Object(a.useCallback)((function(){m(void 0),x(At.CREATE),d(!0)}),[]);return Object(a.useEffect)((function(){S()}),[S]),Object(v.jsxs)("div",{children:[Object(v.jsx)(fe.a,{scroll:{y:"50vh",x:1500},data:t,columns:I,loading:r,onRow:T,pagination:{total:n,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:A,children:i("common.new")}),e]})}}),Object(v.jsx)(_t,{group:C,usage:O,visible:u,onClose:function(e){d(!1),e&&c(),e&&H.a.success(i("common.success"))},data:j})]})}function Vt(e){var t=Object(g.a)().t,n=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(a.useCallback)((function(e,t){r(Object(ve.a)(Object(ve.a)({},n),{},Object(Ne.a)({},e,t)))}),[n,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(De.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminBiz.filter.id")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("id",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"name",children:t("page.adminBiz.filter.name")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("name",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminBiz.filter.comment")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}function Wt(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(g.a)().t,i=Object(a.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(!0),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(a.useState)(0),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,zt(n);case 3:(t=e.sent).data&&(u(t.data.biz),O(t.data.count)),j(!1);case 6:case"end":return e.stop()}}),e)}))),[n]);return Object(a.useEffect)((function(){x()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(ie.a,{title:c("page.adminBiz.title"),bordered:!1,children:[Object(v.jsx)(Vt,{filter:n,setFilter:r,handleSearch:x}),Object(v.jsx)(Ht,{total:h,data:l,loading:b,fetchData:x})]})})}!function(e){e.CREATE="create",e.MODIFY="modify"}(Lt||(Lt={}));var Kt=n(378),qt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/abTest",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/abTest",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.put("/abTest/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.delete("/abTest/".concat(t),{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xt=n(382);function $t(e){var t=e.onClose,n=e.onDelete,a=e.onSubmit,r=e.loading,c=e.usage,i=Object(g.a)().t;return Object(v.jsxs)("div",{className:"drawer-btn-group",children:[Object(v.jsx)(R.a,{loading:r,type:"primary",onClick:a,children:c===Lt.MODIFY?i("common.update"):i("common.save")}),c===Lt.MODIFY&&Object(v.jsx)(R.a,{loading:r,type:"primary",status:"danger",onClick:n,children:i("common.delete")}),Object(v.jsx)(R.a,{loading:r,type:"secondary",onClick:t,children:i("common.cancel")})]})}var en=ze.a.Item;function tn(e){var t=e.visible,n=e.onClose,r=e.data,c=e.usage,i=ze.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],p=u[1],b=Object(g.a)().t,j=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),t=o.getFieldsValue(),c!==Lt.CREATE){e.next=9;break}return e.next=5,Jt(t);case 5:e.sent.data&&n(!0),e.next=13;break;case 9:return e.next=11,Qt(r.id,t);case 11:e.sent.data&&n(!0);case 13:p(!1);case 14:case"end":return e.stop()}}),e)}))),[r,o,n,c]),m=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(r.id);case 2:e.sent.data&&n(!0),p(!1);case 5:case"end":return e.stop()}}),e)}))),[r,n]);return Object(a.useEffect)((function(){o.resetFields(),c===Lt.MODIFY&&o.setFieldsValue(r)}),[r,o,c]),Object(v.jsx)(Pe.a,{visible:t,onCancel:function(){return n(!1)},className:"drawer",closable:!1,title:b("page.adminABTest.drawer.".concat(c))+(r?" ID: ".concat(r.id):""),footer:Object(v.jsx)($t,{usage:c,loading:d,onClose:function(){return n(!1)},onDelete:m,onSubmit:j}),children:Object(v.jsxs)(ze.a,{form:o,className:"drawer-form",children:[Object(v.jsx)(en,{label:b("page.adminABTest.drawer.comment"),field:"comment",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.method"),field:"method",children:Object(v.jsxs)(Me.a,{children:[Object(v.jsx)(Me.a.Option,{value:"get",children:"GET"}),Object(v.jsx)(Me.a.Option,{value:"post",children:"POST"}),Object(v.jsx)(Me.a.Option,{value:"put",children:"PUT"}),Object(v.jsx)(Me.a.Option,{value:"delete",children:"DELETE"})]})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.origin"),field:"origin",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.server"),field:"server",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.dest"),field:"dest",children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.current"),field:"current",children:Object(v.jsx)(Xt.a,{min:0,max:100,suffix:"%"})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.increase"),field:"increase",children:Object(v.jsx)(Xt.a,{min:0,max:100,suffix:"%"})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.timeGap"),field:"timeGap",children:Object(v.jsx)(Xt.a,{min:0,suffix:b("common.hr")})}),Object(v.jsx)(en,{label:b("page.adminABTest.drawer.suspend"),field:"suspend",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:b("common.yes"),uncheckedText:b("common.no")})})]})})}var nn=n(159),an=n.n(nn);function rn(e){var t=e.data,n=e.total,r=e.loading,c=e.fetchData,i=Object(g.a)().t,o=Object(a.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],p=Object(a.useState)(),b=Object(s.a)(p,2),j=b[0],m=b[1],f=Object(a.useState)(Lt.CREATE),h=Object(s.a)(f,2),O=h[0],x=h[1],w=Object(a.useMemo)((function(){return[{title:i("page.adminABTest.table.id"),dataIndex:"id",width:"80px"},{title:i("page.adminABTest.table.origin"),width:"250px",fixed:"left",render:function(e,t,n){return Object(v.jsx)("div",{className:"".concat(t.suspend?an.a["suspend-test"]:an.a["under-test"]),children:t.origin})}},{title:i("page.adminABTest.table.server"),dataIndex:"server",width:"200px"},{title:i("page.adminABTest.table.dest"),dataIndex:"dest",width:"250px"},{title:i("page.adminABTest.table.comment"),dataIndex:"comment"},{title:i("page.adminABTest.table.current"),render:function(e,t){return Object(v.jsx)(Kt.a,{percent:t.current,color:t.suspend?"#C9CDD4":"",formatText:function(e){return"".concat(e," / 100")}})},width:"150px"},{title:i("page.adminABTest.table.increase"),render:function(e,t){return Object(v.jsx)(v.Fragment,{children:t.increase+"%"})},width:"150px"},{title:i("page.adminABTest.table.timeGap"),dataIndex:"timeGap",render:function(e,t){return Object(v.jsx)(v.Fragment,{children:t.timeGap+" "+i("common.hr")})},width:"150px"},{title:i("page.adminABTest.table.createdAt"),width:"200px",render:function(e,t){return ne()(t.createdAt).toDate().toLocaleString()}},{title:i("page.adminABTest.table.updatedAt"),width:"200px",render:function(e,t){return ne()(t.updatedAt).toDate().toLocaleString()}},{title:i("page.adminABTest.table.suspend"),dataIndex:"suspend",width:"100px",render:function(e,t){return i("common.".concat(t.suspend?"yes":"no"))}},{title:i("page.adminABTest.table.method"),dataIndex:"method",fixed:"right",width:"100px"}]}),[i]),y=Object(a.useCallback)((function(e){return{onClick:function(){m(e),x(Lt.MODIFY),d(!0)}}}),[]),C=Object(a.useCallback)((function(){m(void 0),x(Lt.CREATE),d(!0)}),[]);return Object(v.jsxs)("div",{children:[Object(v.jsx)(fe.a,{scroll:{y:"50vh",x:2e3},data:t,columns:w,loading:r,onRow:y,pagination:{total:n,sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0},renderPagination:function(e){return Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[Object(v.jsx)(R.a,{size:"mini",type:"primary",onClick:C,children:i("common.new")}),e]})}}),Object(v.jsx)(tn,{usage:O,visible:u,onClose:function(e){d(!1),e&&c(),e&&H.a.success(i("common.success"))},data:j})]})}function cn(e){var t=Object(g.a)().t,n=e.filter,r=e.setFilter,c=e.handleSearch,i=Object(a.useCallback)((function(e,t){r(Object(ve.a)(Object(ve.a)({},n),{},Object(Ne.a)({},e,t)))}),[n,r]);return Object(v.jsx)("div",{children:Object(v.jsxs)(De.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminABTest.filter.origin")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("origin",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"name",children:t("page.adminABTest.filter.method")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("method",e)}})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:t("page.adminABTest.filter.comment")}),Object(v.jsx)(Fe.a,{onChange:function(e){i("comment",e)}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:c,children:t("common.search")})]})})}function sn(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(g.a)().t,i=Object(a.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(!0),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(a.useState)(0),f=Object(s.a)(m,2),h=f[0],O=f[1],x=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,qt(n);case 3:(t=e.sent).data&&(u(t.data.test),O(t.data.count)),j(!1);case 6:case"end":return e.stop()}}),e)}))),[n]);return Object(a.useEffect)((function(){x()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(ie.a,{title:c("page.adminABTest.title"),bordered:!1,children:[Object(v.jsx)(cn,{filter:n,setFilter:r,handleSearch:x}),Object(v.jsx)(rn,{total:h,data:l,loading:b,fetchData:x})]})})}var on,ln=n(373),un=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/system/cache/"+t,{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dn=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/system/info",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pn=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/system/reload",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.API="api",e.USER="user",e.BIZ="biz"}(on||(on={}));var bn=n(375),jn=n(130),mn=n.n(jn),fn=function(e){var t=e.type,n=e.t,a=e.cache,r=e.children;return Object(v.jsx)("div",{className:mn.a["arco-card"],children:Object(v.jsx)(ie.a,{title:n("page.adminOther.content.cache.".concat(t,".title")),style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:mn.a["cache-card"],children:[Object(v.jsx)(bn.a,{title:n("page.adminOther.content.cache.".concat(t,".title")),value:ne()().diff(ne()(a[t].syncAt),"m"),suffix:n("page.adminOther.min")}),r]})})})};function hn(e){var t=Object(g.a)().t,n=e.sysInfo,r=e.loading,c=[on.API,on.USER,on.BIZ],i=Object(a.useCallback)(function(){var e=Object(Y.a)(L.a.mark((function e(n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un(n);case 2:"success"===e.sent.msg&&H.a.success(t("common.success"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(v.jsx)(se.a,{loading:r,style:{display:"block"},children:Object(v.jsx)("div",{className:mn.a["card-wrapper"],children:n&&Object(v.jsx)(v.Fragment,{children:c.map((function(e){return Object(v.jsx)(fn,{type:e,t:t,cache:n.cache,children:Object(v.jsx)(R.a,{type:"primary",onClick:function(){return i(e)},children:t("page.adminOther.content.cache.refresh")})},e)}))})})})}function On(e){var t=Object(g.a)().t;return Object(v.jsx)("div",{children:Object(v.jsx)(R.a,{type:"primary",onClick:function(){return ee.a.warning({title:t("page.adminOther.content.cluster.title"),onOk:(e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pn();case 2:"success"===e.sent.msg&&H.a.success(t("common.success"));case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})});var e},children:t("page.adminOther.content.cluster.btn")})})}var xn=n(83),gn=n.n(xn);function vn(e){var t=Object(g.a)().t,n=e.sysInfo,a=e.loading;return Object(v.jsx)("div",{children:Object(v.jsx)(se.a,{loading:a,style:{display:"block"},children:n&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ie.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:gn.a["item-card"],children:[Object(v.jsx)(bn.a,{title:t("page.adminOther.content.sys.time"),value:ne()().diff(ne()(n.startedAt),"days"),suffix:t("page.adminOther.day"),countUp:!0}),Object(v.jsx)(bn.a,{title:t("page.adminOther.content.sys.warn"),value:n.warn,countUp:!0,styleValue:{color:"#FF7D00"}}),Object(v.jsx)(bn.a,{title:t("page.adminOther.content.sys.error"),value:n.error,countUp:!0,styleValue:{color:"#F53F3F"}})]})}),Object(v.jsx)(ie.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:gn.a["item-card"],children:[Object(v.jsx)(bn.a,{title:t("page.adminOther.content.cache.api.total"),value:n.cache.api.total,countUp:!0}),Object(v.jsx)(bn.a,{title:t("page.adminOther.content.cache.api.missed"),value:n.cache.api.missed,countUp:!0,styleValue:{color:"#FF7D00"}}),Object(v.jsx)(bn.a,{title:t("page.adminOther.content.cache.api.hitRate"),value:(100*(n.cache.api.total-n.cache.api.missed)/n.cache.api.total).toFixed(2),suffix:"%",precision:2,countUp:!0})]})}),Object(v.jsx)(ie.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:gn.a["item-card"],children:[Object(v.jsx)(bn.a,{title:t("page.adminOther.content.cache.biz.total"),value:n.cache.biz.total,countUp:!0}),Object(v.jsx)(bn.a,{title:t("page.adminOther.content.cache.biz.missed"),value:n.cache.biz.missed,countUp:!0,styleValue:{color:"#FF7D00"}}),Object(v.jsx)(bn.a,{title:t("page.adminOther.content.cache.biz.hitRate"),value:(100*(n.cache.biz.total-n.cache.biz.missed)/n.cache.biz.total).toFixed(2),suffix:"%",precision:2,countUp:!0})]})}),Object(v.jsx)(ie.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:gn.a["item-card"],children:[Object(v.jsx)(bn.a,{title:t("page.adminOther.content.proxy.current"),value:n.proxyInfo.proxy,countUp:!0}),Object(v.jsx)("div",{children:Object(v.jsx)(bn.a,{title:t("page.adminOther.content.proxy.warn"),value:n.proxyInfo.proxyWarn,countUp:!0,styleValue:{color:"#FF7D00"}})}),Object(v.jsx)(bn.a,{styleValue:{color:"#F53F3F"},title:t("page.adminOther.content.proxy.error"),value:n.proxyInfo.proxyError,countUp:!0})]})}),Object(v.jsx)(ie.a,{title:null,style:{borderRadius:10,margin:"10px 0px"},children:Object(v.jsxs)("div",{className:gn.a["item-card"],children:[Object(v.jsx)(bn.a,{title:t("page.adminOther.content.abTest.current"),value:n.proxyInfo.test,countUp:!0}),Object(v.jsx)("div",{children:Object(v.jsx)(bn.a,{title:t("page.adminOther.content.abTest.warn"),value:n.proxyInfo.testWarn,countUp:!0,styleValue:{color:"#FF7D00"}})}),Object(v.jsx)(bn.a,{styleValue:{color:"#F53F3F"},title:t("page.adminOther.content.abTest.error"),value:n.proxyInfo.testError,countUp:!0})]})})]})})})}var wn=ln.a.TabPane;function yn(){var e=Object(g.a)().t,t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(a.useMemo)((function(){return[{id:"info",name:e("page.adminOther.tab.info.title")},{id:"cache",name:e("page.adminOther.tab.cache.title")},{id:"cluster",name:e("page.adminOther.tab.cluster.title")}]}),[e]),p=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,dn();case 3:(t=e.sent).data&&u(t.data.info),c(!1);case 6:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){p()}),[p]),Object(a.useEffect)((function(){var e=setInterval((function(){p()}),6e4);return function(){return clearInterval(e)}}),[p]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(ie.a,{title:e("page.adminOther.title"),bordered:!1,style:{width:"100%"},children:Object(v.jsx)(ln.a,{style:{margin:-15},children:d.map((function(e){return Object(v.jsx)(wn,{destroyOnHide:!0,title:"".concat(e.name),children:Object(v.jsxs)("div",{style:{margin:"0px 16px 16px 16px"},children:["info"===e.id&&Object(v.jsx)(vn,{sysInfo:l,loading:r}),"cache"===e.id&&Object(v.jsx)(hn,{sysInfo:l,loading:r}),"cluster"===e.id&&Object(v.jsx)(On,{})]})},e.id)}))})})})}var Cn,kn,Sn=function(){var e=Object(Y.a)(L.a.mark((function e(t){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.post("/system/log",Object(ve.a)({},t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(Cn||(Cn={})),function(e){e.commonErr="commonErr",e.agent="agent",e.schedule="schedule",e.web="web",e.app="app",e.proxy="proxy"}(kn||(kn={}));var In=n(370),Tn=In.a.RangePicker;function An(e){var t=e.filter,n=e.setFilter,r=e.handleSearch,c=Object(g.a)().t,i=Object(a.useCallback)((function(e,a){n(Object(ve.a)(Object(ve.a)({},t),{},Object(Ne.a)({},e,a)))}),[t,n]);return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"input-wrapper",style:{width:"100%",marginBottom:10},children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.filter")}),Object(v.jsx)(Fe.a,{style:{width:"100%"},onChange:function(e){i("filter",e)}})]}),Object(v.jsxs)(De.a,{wrap:!0,size:[15,10],children:[Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.type.title")}),Object(v.jsx)(Me.a,{style:{width:200},triggerProps:{autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0,position:"bl"},value:t.type,onChange:function(e){return i("type",e)},children:Object.keys(kn).map((function(e){return Object(v.jsx)(Me.a.Option,{value:e,children:c("page.adminLog.filter.type.".concat(e))},e)}))})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.level.title")}),Object(v.jsx)(Me.a,{allowClear:!0,style:{width:200},triggerProps:{autoAlignPopupWidth:!1,autoAlignPopupMinWidth:!0,position:"bl"},value:t.level,onChange:function(e){return i("level",e)},children:Object.keys(Cn).map((function(e){return Object(v.jsx)(Me.a.Option,{value:e,children:c("page.adminLog.filter.level.".concat(e.toLocaleLowerCase()))},e)}))})]}),Object(v.jsxs)("div",{className:"input-wrapper",children:[Object(v.jsx)("div",{className:"title",children:c("page.adminLog.filter.date")}),Object(v.jsx)(Tn,{showTime:!0,disabledDate:function(e){if(t.date){var n=null==e?void 0:e.format("YYYY-MM-DD");return ne()(t.date).format("YYYY-MM-DD")!==n}return!ne()().endOf("day").isAfter(ne()(null==e?void 0:e.toDate()))},onOk:function(e){n(Object(ve.a)(Object(ve.a)({},t),{},{timeFrom:ne()(e[0]).format("YYYY-MM-DD HH:mm:ss"),timeTo:ne()(e[1]).format("YYYY-MM-DD HH:mm:ss")}))},onSelect:function(e){i("date",ne()(e[0]).format("YYYY-MM-DD"))},onClear:function(){n(Object(ve.a)(Object(ve.a)({},t),{},{timeFrom:void 0,timeTo:void 0,date:void 0}))}})]}),Object(v.jsx)(R.a,{type:"primary",onClick:r,children:c("common.search")})]})]})}function En(e){var t=e.logs,n=e.loading,r=Object(a.useState)(100),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(g.a)().t,u=Object(a.useMemo)((function(){return[{title:l("page.adminLog.table.level"),dataIndex:"level",width:80},{title:l("page.adminLog.table.date"),width:180,render:function(e,t){return ne()(t.date).format("YYYY-MM-DD HH:mm:ss")}},{title:l("page.adminLog.table.message"),dataIndex:"message",width:800},{title:l("page.adminLog.table.hostname"),dataIndex:"hostname"},{title:l("page.adminLog.table.paddingMessage"),dataIndex:"paddingMessage"},{title:l("page.adminLog.table.pid"),dataIndex:"pid"}]}),[l]),d=Object(a.useCallback)((function(e){o(e.pageSize)}),[]);return Object(v.jsx)("div",{children:Object(v.jsx)(fe.a,{scroll:{x:1500,y:"50vh"},onChange:d,pagination:{sizeCanChange:!0,showTotal:!0,pageSize:i,sizeOptions:[50,100,200,500,1e3]},columns:u,data:t,loading:n,renderPagination:function(e){return Object(v.jsx)("div",{style:{display:"flex",justifyContent:"end",marginTop:10},children:e})}})})}function Nn(){var e=Object(g.a)().t,t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)({type:kn.web}),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(!1),p=Object(s.a)(d,2),b=p[0],j=p[1],m=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Sn(l);case 3:(t=e.sent).data&&c(t.data.log),j(!1);case 6:case"end":return e.stop()}}),e)}))),[l]);return Object(a.useEffect)((function(){m()}),[]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsxs)(ie.a,{title:e("page.adminLog.title"),bordered:!1,extra:Object(v.jsx)("div",{style:{fontSize:"1.25rem",cursor:"pointer"},children:Object(v.jsx)(Ce.a,{style:{borderRadius:"5px"},content:e("page.adminLog.tip"),position:"left",trigger:"click",children:Object(v.jsx)(he.a,{})})}),children:[Object(v.jsx)(An,{filter:l,setFilter:u,handleSearch:m}),Object(v.jsx)(En,{logs:r,loading:b})]})})}var Dn,Fn,Rn=function(){var e=Object(Y.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/system/config",{});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zn=function(){var e=Object(Y.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.put("/system/config",{key:t,value:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();!function(e){e.apiCache="apiCache",e.bizCache="bizCache",e.userCache="userCache",e.abTest="abTest",e.systemInfo="systemInfo",e.systemInfoCache="systemInfoCache",e.errorDetector="errorDetector"}(Dn||(Dn={})),function(e){e.errorEmail="errorEmail",e.accessKey="accessKey",e.scheduleInterval="scheduleInterval",e.systemErrorReport="systemErrorReport",e.proxyErrorReport="proxyErrorReport",e.abTestErrorReport="abTestErrorReport"}(Fn||(Fn={}));var Pn=n(214),Mn=ze.a.Item;function Gn(e){var t=Object(g.a)().t,n=e.configKey,r=e.config,c=e.onChange,i=ze.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,zn(n,t);case 3:"success"===e.sent.msg&&(H.a.success("success"),c());case 5:case"end":return e.stop()}}),e)}))),[o,n,c]);return Object(a.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(ze.a,{form:o,labelAlign:"left",layout:"vertical",children:[Object(v.jsx)(Mn,{label:t("page.adminSystem.errorEmail.user"),field:"user",children:Object(v.jsx)(Fe.a,{placeholder:"input user"})}),Object(v.jsx)(Mn,{label:t("page.adminSystem.errorEmail.password"),field:"password",children:Object(v.jsx)(Fe.a.Password,{placeholder:"input password"})}),Object(v.jsx)(Mn,{label:t("page.adminSystem.errorEmail.host"),field:"host",children:Object(v.jsx)(Fe.a,{placeholder:"input SMTP host"})}),Object(v.jsx)(Mn,{label:t("page.adminSystem.errorEmail.sender"),field:"sender",children:Object(v.jsx)(Fe.a,{placeholder:"input sender (in most cases is the same as user)"})}),Object(v.jsx)(Mn,{label:t("page.adminSystem.errorEmail.sendTo"),field:"sendTo",children:Object(v.jsx)(Pn.a,{placeholder:"input sendTo"})})]}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:l,children:t("common.update")})})]})}var Bn=n(211),Un=n.n(Bn),Ln=n(368),Yn=ze.a.Item;function _n(e){var t=Object(g.a)().t,n=e.configKey,r=e.config,c=e.onChange,i=ze.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(a.useState)(!1),u=Object(s.a)(l,2),d=u[0],p=u[1],b=Object(a.useState)(""),j=Object(s.a)(b,2),m=j[0],f=j[1],h=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,zn(n,t);case 3:"success"===(a=e.sent).msg&&(H.a.success("success"),f(a.data.key),p(!0));case 5:case"end":return e.stop()}}),e)}))),[o,n]);return Object(a.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(ze.a,{form:o,labelAlign:"left",layout:"vertical",children:[Object(v.jsx)(Yn,{label:"key",field:"key",children:Object(v.jsx)(Fe.a.Password,{disabled:!0,placeholder:"input password"})}),Object(v.jsx)(Yn,{label:t("page.adminSystem.accessKey.enable"),field:"enable",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:t("common.on"),uncheckedText:t("common.off")})})]}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:h,children:t("common.update")})}),Object(v.jsx)(ee.a,{simple:!0,visible:d,okText:"Copy To Clipboard",cancelText:"Just Go Back",onOk:function(){Un()(m),p(!1),c(),H.a.success("Copied to clipboard")},onCancel:function(){p(!1),c()},children:Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(v.jsx)(Ln.a,{closable:!0,type:"info",content:"Key Updated"}),Object(v.jsx)("p",{children:m})]})})]})}var Hn=ze.a.Item;function Vn(e){var t=Object(g.a)().t,n=e.configKey,r=e.config,c=e.onChange,i=ze.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,zn(n,t);case 3:"success"===e.sent.msg&&(H.a.success("success"),c());case 5:case"end":return e.stop()}}),e)}))),[o,n,c]);return Object(a.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(ze.a,{form:o,labelAlign:"right",layout:"vertical",children:[Object(v.jsx)(Hn,{label:t("page.adminSystem.errorReportBase.timeThreshold"),field:"timeThreshold",children:Object(v.jsx)(Xt.a,{suffix:t("common.min")})}),Object(v.jsx)(Hn,{label:t("page.adminSystem.errorReportBase.warnThreshold"),field:"warnThreshold",children:Object(v.jsx)(Xt.a,{suffix:"Records"})}),Object(v.jsx)(Hn,{label:t("page.adminSystem.errorReportBase.errorThreshold"),field:"errorThreshold",children:Object(v.jsx)(Xt.a,{suffix:"Records"})}),Object(v.jsx)(Hn,{label:t("page.adminSystem.errorReportBase.muteUntil"),field:"muteUntil",children:Object(v.jsx)(In.a,{format:"YYYY-MM-DD HH:mm:ss",style:{width:"100%"}})}),Object(v.jsx)(Hn,{label:t("page.adminSystem.errorReportBase.enable"),field:"enable",triggerPropName:"checked",children:Object(v.jsx)(lt.a,{checkedText:t("common.on"),uncheckedText:t("common.off")})})]}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:l,children:t("common.update")})})]})}var Wn=n(131),Kn=n.n(Wn),qn=ze.a.Item;function Jn(e){var t=Object(g.a)().t,n=e.configKey,r=e.config,c=e.onChange,i=ze.a.useForm(),o=Object(s.a)(i,1)[0],l=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.getFieldsValue(),e.next=3,zn(n,t);case 3:"success"===e.sent.msg&&(H.a.success("success"),c());case 5:case"end":return e.stop()}}),e)}))),[o,n,c]);return Object(a.useEffect)((function(){o.setFieldsValue(r)})),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ze.a,{form:o,labelAlign:"left",layout:"vertical",labelCol:{span:6},wrapperCol:{span:18},children:Object.keys(r).map((function(e){return Object(v.jsx)(qn,{label:t("page.adminSystem.scheduleInterval.".concat(e)),style:{marginBottom:0},children:Object(v.jsxs)("div",{className:Kn.a["schedule-input-wrapper"],children:[Object(v.jsx)(qn,{field:"".concat(e,".interval"),className:Kn.a["input-item"],children:Object(v.jsx)(Fe.a,{})}),Object(v.jsx)(qn,{field:"".concat(e,".enable"),triggerPropName:"checked",className:Kn.a["switch-item"],children:Object(v.jsx)(lt.a,{checkedText:t("common.on"),uncheckedText:t("common.off")})})]})})}))}),Object(v.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(v.jsx)(R.a,{type:"primary",onClick:l,children:t("common.update")})})]})}var Qn=ln.a.TabPane;function Zn(){var e=Object(g.a)().t,t=Object(a.useState)(!0),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),l=o[0],u=o[1],d=function(){p()},p=Object(a.useCallback)(Object(Y.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn();case 2:(t=e.sent).data&&u(t.data.config),c(!1);case 5:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){p()}),[p]),Object(v.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(v.jsx)(ie.a,{title:e("page.adminSystem.title"),bordered:!1,style:{width:"100%"},children:Object(v.jsx)(se.a,{loading:r,style:{display:"block",top:"30px"},children:Object(v.jsx)(ln.a,{style:{margin:-15},defaultActiveTab:Fn.errorEmail,children:l&&l.map((function(t){var n={};switch(t.key){case Fn.errorEmail:n=Object(v.jsx)(Gn,{configKey:t.key,config:t.value,onChange:d});break;case Fn.accessKey:n=Object(v.jsx)(_n,{configKey:t.key,config:t.value,onChange:d});break;case Fn.proxyErrorReport:case Fn.abTestErrorReport:case Fn.systemErrorReport:n=Object(v.jsx)(Vn,{configKey:t.key,config:t.value,onChange:d});break;case Fn.scheduleInterval:n=Object(v.jsx)(Jn,{configKey:t.key,config:t.value,onChange:d});break;default:n=function(){return Object(v.jsx)("div",{children:"111"})}}return Object(v.jsx)(Qn,{title:e("page.adminSystem.".concat(t.key,".title")),children:n},t.key)}))})})})})}function Xn(){var e=Object(j.h)();return Object(v.jsx)("div",{className:"".concat(E.a["main-wrapper"]," outter-card"),children:Object(v.jsx)(N.a,{children:Object(v.jsx)(D.a,{classNames:"fade",timeout:800,children:Object(v.jsx)("div",{className:E.a["safe-area"],children:Object(v.jsxs)(j.d,{location:e,children:[Object(v.jsx)(j.b,{exact:!0,path:"/login",children:Object(v.jsx)(Z,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/auth",children:Object(v.jsx)(ae,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/info",children:Object(v.jsx)(je,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/log",children:Object(v.jsx)(xe,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/service",children:Object(v.jsx)(Ee,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/user",children:Object(v.jsx)(et,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/api",children:Object(v.jsx)(yt,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/group",children:Object(v.jsx)(Rt,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/biz",children:Object(v.jsx)(Wt,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/abTest",children:Object(v.jsx)(sn,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/system",children:Object(v.jsx)(Zn,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/other",children:Object(v.jsx)(yn,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/admin/log",children:Object(v.jsx)(Nn,{})}),Object(v.jsx)(j.b,{exact:!0,path:"/",children:Object(v.jsx)(j.a,{to:"/info"})}),Object(v.jsx)(j.b,{path:"*",children:Object(v.jsx)(z,{})})]})})},e.pathname)})})}n(349);var $n=n(5),ea=n(160),ta=n(108),na=function(e){return"zh-CN"===e?ta.a:ea.a},aa={Button:{shape:"round"},Table:{border:!1}};var ra=function(){var e=Object(a.useReducer)(h,!1),t=Object(s.a)(e,2),n={state:t[0],dispatch:t[1]},r=Object(a.useReducer)(x,"zh-CN"),c=Object(s.a)(r,2),i=c[0],o=c[1];Object(a.useEffect)((function(){o(localStorage.getItem("language")||"en-US")}),[]);var l=Object(a.useCallback)((function(e){"dark"===e&&document.body.setAttribute("arco-theme","dark"),"normal"===e&&document.body.removeAttribute("arco-theme")}),[]);Object(a.useEffect)((function(){window.matchMedia("(prefers-color-scheme: dark)").matches&&l("dark"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){return l(e.matches?"dark":"normal")})),window.removeEventListener("change",(function(){}))}),[l]);var u={language:i,dispatchLanguage:o};return Object(v.jsx)($n.b,{locale:na(i),componentConfig:aa,children:Object(v.jsx)("div",{className:"view",children:Object(v.jsx)(f.Provider,{value:n,children:Object(v.jsxs)(O.Provider,{value:u,children:[Object(v.jsxs)("div",{className:"app",children:[Object(v.jsx)("div",{className:"nav",children:Object(v.jsx)(k,{})}),Object(v.jsx)("div",{className:"main",children:Object(v.jsx)(Xn,{})})]}),Object(v.jsx)("div",{className:"footer",children:Object(v.jsx)(T,{info:"Niko Gateway"})})]})})})})},ca=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,383)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},ia=(n(350),n(351),n(162)),sa=n(96),oa={nav:{info:"Info",log:"Log",service:"Service",btnConfig:"Admin Config",btnMore:"More",api:"API",abTest:"AB Test",user:"User Config",group:"Group Config",biz:"Micro Service",other:"Other",sysLog:"System Log",system:"System Config"},page:{info:{title:"User Info",staffName:"Staff Name",staffId:"Staff ID",tokenExp:"Auth Exp",userGroup:"User Group"},login:{toAuth:"redirecting to authorization gateway..."},auth:{check:"checking your ticket...",noTicket:"ticket not found",trust:"Do you trust this browser?"},userLog:{title:"Authorization Log",tip:"show only the last 10 records",table:{id:"User ID",service:"Service You Authorized For",device:"Operation Device",time:"Authorization Time"}},service:{title:"All APP",closed:"Closed",tipClosed:"this app is not open yet"},notFound:{desc:"Sorry, Page Not Found",back:"Back"},adminUser:{title:"User Management",table:{id:"ID",staffName:"Staff Name",staffId:"Staff ID"},search:{id:"ID",staffName:"Staff Name",staffId:"Staff ID",btn:"Search"},drawer:{title:"User Config",group:"User Group"},popUp:{title:"Add Multiple Users To Groups",btn:"Muti Add"}},adminApi:{title:"API Config",table:{id:"ID",comment:"Comment",origin:"Gateway Router",server:"Server",dest:"Server Router",allowGroup:"Accessable Groups",createdAt:"Created At",updatedAt:"Updated At",method:"Request Method",switch:"Status",abTest:"AB Test",isPublic:"Public API"},filter:{id:"ID",comment:"Comment",origin:"Gateway Router",server:"Server",dest:"Server Router",method:"Request Method"},drawer:{modify:"Modify Config",create:"Create Config",comment:"Comment",router:"Gateway Router",server:"Server",dest:"Server Router",method:"Request Method",allowGroup:"Accessable Groups",abTest:"AB Test",switch:"Status",isPublic:"Public API",customHeader:"Custom Header",customHeaderBtn:"Config Header"},drawer2:{title:"Custom Header",key:"Key",value:"Value"}},adminGroup:{title:"Group Config",table:{id:"ID",name:"Group Name",comment:"Comment",default:"Default Group",createdAt:"Created At",updatedAt:"Updated At"},filter:{id:"ID",name:"Group Name",comment:"Comment"},drawer:{name:"Group Name",comment:"Comment",default:"Default Group",modify:"Modify Config",create:"Create Config"}},adminBiz:{title:"Micro Service Config",table:{id:"ID",name:"Name",comment:"Description",url:"URL",api:"API Server",allowGroup:"Allow Group",isOpen:"Status",createdAt:"Created At",updatedAt:"updated At",isPublic:"Public Service"},filter:{id:"ID",name:"Name",comment:"Description"},drawer:{title:"Micro Service Config",name:"Name",comment:"Description",url:"URL",api:"API Server",allowGroup:"Accessable Group",isOpen:"Status",modify:"Modify Config",create:"Create Config",isPublic:"Public Service"}},adminABTest:{title:"AB Test Config",table:{id:"ID",method:"Request Method",origin:"Gateway Router",suspend:"Suspend",increase:"Increase Ratio",current:"Current Ratio",timeGap:"Increase Time Gap",createdAt:"Created At",updatedAt:"Updated At",comment:"Comment",server:"Server",dest:"Server Router"},filter:{id:"ID",origin:"Reques Router",method:"Request Method",comment:"Comment"},drawer:{modify:"Modify Config",create:"Create Config",comment:"Comment",origin:"Gateway Router",server:"Server",dest:"Server Router",method:"Request Method",suspend:"Suspend",increase:"Increase Ratio",current:"Current Ratio",timeGap:"Increase Time Gap"}},adminOther:{title:"Other Config",day:"day(s) before",min:"min(s) before",tab:{cache:{title:"Cache Config"},cluster:{title:"Cluster Config"},info:{title:"System Info"}},content:{cache:{biz:{title:"Micro Service Cache",total:"Biz Total Req",missed:"Biz Cache Missed",syncAt:"Sync Time",hitRate:"Hit Rate"},api:{title:"API Cache",total:"API Total Req",missed:"API Cache Missed",syncAt:"Sync Time",hitRate:"Hit Rate"},user:{title:"User Info Cache",syncAt:"Sync Time"},refresh:"Refresh"},abTest:{current:"AB Test Total",warn:"AB Test Biz Err",error:"AB Test Server Err"},proxy:{current:"Proxy Total",warn:"Proxy Biz Err",error:"Proxy Server Err"},sys:{time:"System Started",warn:"System Warning",error:"System Error"},cluster:{btn:"Reload Worker",title:"Are You Sure To Reload Worker?"}}},adminLog:{title:"System Log",tip:"支持用逻辑标识构建语句，必须以「AND」「OR」「NOT」开头，参数和标识之间用空格隔开，参数可以带有空格。eg：「AND socket is closed NOT ClusterClient:Watcher」",table:{level:"Level",message:"Message",date:"Date",hostname:"Hostname",paddingMessage:"paddingMessage",pid:"PID"},filter:{filter:"Filter",date:"Log Date",timeFrom:"Time From",timeTo:"Time To",level:{title:"Level",debug:"Debug",info:"Info",warn:"Warn",error:"Error"},type:{title:"Type",commonErr:"Common Error",agent:"Agent Process Log",schedule:"Schedule Execution Log",web:"Inner Web Log",app:"App Log",proxy:"Gateway Log"}}},adminSystem:{title:"System Config",errorEmail:{title:"Email Config For Error Report",user:"SMTP user",password:"SMTP pass",host:"SMTP host",sender:"Sender",sendTo:"SendTo"},accessKey:{title:"Inner API AccessKey",enable:"Enabled",key:"Key"},scheduleInterval:{title:"Schedule Works Interval",enable:"Enabled",interval:"Interval",abTest:"AB Test",apiCache:"API Cache",bizCache:"Micro Service Cache",errorDetector:"Error Detector",systemInfo:"System Info Sync",systemInfoCache:"System Info Cache",userCache:"User Info Cache"},errorReportBase:{enable:"Enabled",errorThreshold:"Error Threshold",warnThreshold:"Warn Threshold",timeThreshold:"Time Threshold",muteUntil:"Mute Email Until"},systemErrorReport:{title:"System Error Email Report"},proxyErrorReport:{title:"Proxy Error Email Report"},abTestErrorReport:{title:"AB Test Error Email Report"},createdAt:"Created At",udpatedAt:"Updated At",id:"ID"}},common:{confirm:"Confirm",cancel:"Cancel",search:"Search",on:"On",off:"Off",yes:"Yes",no:"No",save:"Save",update:"Update",delete:"Delete",success:"Success",error:"Operation Faild",new:"New",paramsError:"Params Error, Please check and try again",hr:"Hour(s)",min:"Minute(s)",sec:"Second(s)"}},la={nav:{info:"信息",log:"日志",service:"服务",btnConfig:"管理员设置",btnMore:"更多",api:"API",abTest:"灰度测试",user:"用户配置",group:"用户组",biz:"微服务配置",other:"其他",sysLog:"系统日志",system:"系统设置"},page:{info:{title:"用户信息",staffName:"用户名",staffId:"staffId",tokenExp:"凭据过期时间",userGroup:"用户组"},login:{toAuth:"正在跳转认证网关..."},auth:{check:"正在验证您的凭据...",noTicket:"未检测到凭据",trust:"是否信任该浏览器？"},userLog:{title:"用户登录日志",tip:"仅展示最近10次登录",table:{id:"用户ID",service:"授权服务",device:"用户设备",time:"授权时间"}},service:{title:"全部应用",closed:"未开放",tipClosed:"该应用暂未开放"},notFound:{desc:"抱歉，你访问的页面不存在",back:"返回"},adminUser:{title:"用户管理",table:{id:"ID",staffName:"用户名",staffId:"staffId"},search:{id:"ID",staffName:"用户名",staffId:"staffId",btn:"搜索"},drawer:{title:"用户设置",group:"用户所在组"},popUp:{title:"批量添加用户组",btn:"批量添加"}},adminApi:{title:"路由配置",table:{id:"ID",comment:"描述",origin:"网关路由",server:"目标服务器",dest:"服务器路由",allowGroup:"允许组",createdAt:"创建时间",updatedAt:"更新时间",method:"请求方法",switch:"状态",abTest:"灰度测试",isPublic:"开放式API"},filter:{id:"ID",comment:"描述",origin:"网关路由",server:"目标服务器",dest:"服务器路由",method:"请求方法"},drawer:{modify:"配置修改",create:"新增配置",comment:"描述",router:"网关路由",server:"目标服务器",dest:"服务器路由",method:"请求方法",allowGroup:"允许组",abTest:"灰度测试",switch:"状态",isPublic:"开放式API",customHeader:"自定义请求头",customHeaderBtn:"修改配置"},drawer2:{title:"请求头自定义（⚠️仅在转发时生效，配置可以被覆盖，value为空则转发时不带该头⚠️）",key:"Key",value:"Value"}},adminGroup:{title:"用户组配置",table:{id:"ID",name:"用户组名称",comment:"用户组描述",default:"默认用户组",createdAt:"创建时间",updatedAt:"更新时间"},filter:{id:"ID",name:"用户组名称",comment:"用户组描述"},drawer:{name:"用户组名称",comment:"用户组描述",default:"默认用户组",modify:"配置修改",create:"新增配置"}},adminBiz:{title:"微服务管理",table:{id:"ID",name:"名称",comment:"描述",url:"URL",api:"API 服务器",allowGroup:"允许组",isOpen:"启用状态",createdAt:"创建时间",updatedAt:"更新时间",isPublic:"开放式API"},filter:{id:"ID",name:"名称",comment:"描述"},drawer:{title:"微服务配置",name:"名称",comment:"描述",url:"URL",api:"API服务器",allowGroup:"允许组",isOpen:"启用状态",modify:"配置修改",create:"新增配置",isPublic:"开放式服务"}},adminABTest:{title:"灰度测试配置",table:{id:"ID",method:"请求方法",origin:"网关路由",suspend:"挂起",increase:"切流比率增加数",current:"当前切流比",timeGap:"切流增加时间差",createdAt:"创建时间",updatedAt:"更新时间",comment:"描述",server:"目标服务器",dest:"服务器路由"},filter:{id:"ID",origin:"网关路由",method:"请求方法",comment:"描述"},drawer:{modify:"配置修改",create:"新增配置",comment:"描述",origin:"网关路由",server:"目标服务器",dest:"服务器路由",method:"请求方法",increase:"切流比率增加数",current:"当前切流比",timeGap:"切流增加时间差",suspend:"是否挂起"}},adminOther:{title:"其他配置",day:"天前",min:"分钟前",tab:{cache:{title:"缓存配置"},cluster:{title:"集群配置"},info:{title:"系统信息"}},content:{cache:{biz:{title:"微服务缓存",total:"微服务请求总数",missed:"微服务未命中缓存",syncAt:"同步时间",hitRate:"命中率"},api:{title:"API缓存",total:"API请求总数",missed:"API未命中缓存",syncAt:"同步时间",hitRate:"命中率"},user:{title:"用户信息缓存",syncAt:"同步时间"},refresh:"刷新缓存"},abTest:{current:"灰度测试总数",warn:"灰度业务错误",error:"灰度服务器错误"},proxy:{current:"请求转发总数",warn:"请求转发错误",error:"请求转发服务器错误"},sys:{time:"系统启动时间",warn:"系统警告",error:"系统错误"},cluster:{btn:"重启Worker",title:"确定没手滑？"}}},adminLog:{title:"系统日志",tip:"支持用逻辑标识构建语句，必须以「AND」「OR」「NOT」开头，参数和标识之间用空格隔开，参数可以带有空格。eg：「AND socket is closed NOT ClusterClient:Watcher」",table:{level:"级别",message:"消息",date:"日期",hostname:"主机名",paddingMessage:"填充消息",pid:"进程号"},filter:{filter:"筛选",date:"日志日期",timeFrom:"开始时间",timeTo:"结束时间",level:{title:"级别",debug:"调试",info:"信息",warn:"警告",error:"错误"},type:{title:"日志类型",commonErr:"通用错误",agent:"Agent进程日志",schedule:"定时任务日志",web:"内部网络连接日志",app:"应用日志",proxy:"网关代理日志"}}},adminSystem:{title:"系统设置",errorEmail:{title:"邮箱设置",user:"SMTP 用户名",password:"SMTP 密码",host:"SMTP 服务器",sender:"发送者",sendTo:"通知接收邮箱"},accessKey:{title:"内部API AccessKey",enable:"启用",key:"密钥"},scheduleInterval:{title:"定时任务配置",enable:"启用",interval:"执行间隔",abTest:"灰度配置缓存刷新",apiCache:"API 缓存刷新",bizCache:"微服务缓存刷新",errorDetector:"错误监测",systemInfo:"系统信息同步",systemInfoCache:"系统信息缓存刷新",userCache:"用户信息缓存刷新"},errorReportBase:{enable:"启用",errorThreshold:"错误信息阈值",warnThreshold:"警告信息阈值",timeThreshold:"阈值时间周期",muteUntil:"禁用邮件通知"},systemErrorReport:{title:"系统错误报告"},proxyErrorReport:{title:"微服代理务错误报告"},abTestErrorReport:{title:"灰度错误报告"},createdAt:"创建时间",udpatedAt:"修改时间",id:"ID"}},common:{confirm:"确认",cancel:"取消",search:"搜索",on:"开启",off:"关闭",yes:"是",no:"否",save:"保存",update:"更新",delete:"删除",success:"操作成功",error:"操作失败",new:"新增",paramsError:"请检查参数再试",hr:"小时",min:"分钟",sec:"秒"}},ua=(n(352),{"zh-CN":{translation:la},en:{translation:oa}});ia.a.use(sa.e).init({resources:ua,lng:localStorage.getItem("language")||"en-US",ns:["translation"],interpolation:{escapeValue:!1}});ia.a;window.document.documentElement.lang="zh-CN",i.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(m.a,{children:Object(v.jsx)(ra,{})})}),document.getElementById("root")),ca()},83:function(e,t,n){var a=n(49),r=n(346);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}}},[[353,1,2]]]);